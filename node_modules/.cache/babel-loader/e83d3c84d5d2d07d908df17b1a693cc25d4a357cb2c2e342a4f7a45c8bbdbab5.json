{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web3 Work Space\\\\Gasha\\\\BNBALL\\\\src\\\\MintComponent.js\";\nimport React, { Component } from \"react\";\nimport { Button, Row, Col, Collapsible } from \"react-materialize\";\nimport Web3 from \"web3\";\nimport \"./styles.css\";\nimport { web3_eth, NFTContract, PaymentTokenContract, fromWei } from \"./Common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst toBigNumber = Web3.utils.toBN;\nconst minimumApprove = toBigNumber(\"340282366920938463463374607431768211456\");\nconst eth = window.ethereum;\nlet ERC20Methods = new web3_eth.Contract([{\n  inputs: [{\n    internalType: \"address\",\n    name: \"owner\",\n    type: \"address\"\n  }, {\n    internalType: \"address\",\n    name: \"spender\",\n    type: \"address\"\n  }],\n  name: \"allowance\",\n  outputs: [{\n    internalType: \"uint256\",\n    name: \"\",\n    type: \"uint256\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}], PaymentTokenContract).methods;\nconst ERC20Approve = \"0x095ea7b3000000000000000000000000\" + NFTContract.slice(2).toLowerCase() + \"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\";\nconst ERC20Allowance = ERC20Methods.allowance;\nERC20Methods = undefined;\nlet contractMethods = new web3_eth.Contract([{\n  inputs: [{\n    internalType: \"address\",\n    name: \"receiver\",\n    type: \"address\"\n  }, {\n    internalType: \"uint256\",\n    name: \"quantity\",\n    type: \"uint256\"\n  }, {\n    internalType: \"bytes\",\n    name: \"data\",\n    type: \"bytes\"\n  }],\n  name: \"mint\",\n  outputs: [],\n  stateMutability: \"nonpayable\",\n  type: \"function\"\n}, {\n  inputs: [],\n  name: \"count\",\n  outputs: [{\n    internalType: \"uint256\",\n    name: \"\",\n    type: \"uint256\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}, {\n  inputs: [],\n  name: \"price\",\n  outputs: [{\n    internalType: \"uint256\",\n    name: \"\",\n    type: \"uint256\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}], NFTContract).methods;\nconst totalSupply = contractMethods.count().call;\nconst getPrice = contractMethods.price().call;\nconst mint = contractMethods.mint;\nconst sendTransaction = eth ? function (to, data) {\n  return eth.request({\n    method: \"eth_sendTransaction\",\n    params: [{\n      from: eth.selectedAddress,\n      to: to,\n      data: data,\n      chainId: \"0x61\"\n    }]\n  });\n} : undefined;\ncontractMethods = undefined;\nclass MintComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.handleDecrementClick = () => {\n      const {\n        quantity\n      } = this.state;\n      if (quantity > 1) {\n        this.setState({\n          quantity: quantity - 1\n        });\n      }\n    };\n    this.handleIncrementClick = () => {\n      const {\n        quantity\n      } = this.state;\n      this.setState({\n        quantity: quantity + 1\n      });\n    };\n    this.handleX10Click = () => {\n      const {\n        quantity\n      } = this.state;\n      this.setState({\n        quantity: quantity + 10\n      });\n    };\n    this.handleX50Click = () => {\n      const {\n        quantity\n      } = this.state;\n      this.setState({\n        quantity: quantity + 50\n      });\n    };\n    this.handleX100Click = () => {\n      const {\n        quantity\n      } = this.state;\n      this.setState({\n        quantity: quantity + 100\n      });\n    };\n    this.state = {\n      quantity: 1,\n      mintCount: 0,\n      priceWei: \"0\"\n    };\n    this.openModal = props.openModal;\n    this.notconnected = props.notconnected;\n  }\n  _selectedAddress() {\n    const w = window.ethereum;\n    // prefer prop addy when provided by parent App\n    return this.props && this.props.addy || w && w.selectedAddress || undefined;\n  }\n  async componentDidMount() {\n    try {\n      const p = await getPrice();\n      this.setState({\n        priceWei: p.toString()\n      });\n    } catch (_unused) {}\n    this._priceTimer = setInterval(async () => {\n      try {\n        const p2 = await getPrice();\n        this.setState({\n          priceWei: p2.toString()\n        });\n      } catch (_unused2) {}\n    }, 15000);\n  }\n  componentWillUnmount() {\n    if (this._priceTimer) clearInterval(this._priceTimer);\n  }\n  render() {\n    const {\n      quantity,\n      priceWei\n    } = this.state;\n    const totalWei = toBigNumber(priceWei).mul(toBigNumber(quantity));\n    const totalToken = fromWei(totalWei, \"ether\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        id: \"offsetbtn\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"\",\n            alt: \"\",\n            style: {\n              maxWidth: \"3em\",\n              float: \"right\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12\",\n          children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"\",\n            alt: \"\",\n            style: {\n              maxWidth: \"3em\",\n              float: \"right\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12\",\n          children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"twitter.png\",\n            alt: \"\",\n            style: {\n              maxWidth: \"3em\",\n              float: \"right\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        id: \"rules\",\n        style: {\n          position: \"absolute\",\n          zIndex: 10,\n          left: 0,\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"col s9 m6 l4\",\n          children: /*#__PURE__*/_jsxDEV(Collapsible, {\n            className: \"col s12\",\n            style: {\n              backgroundColor: \"#ffce19\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"col s12\",\n              style: {\n                backgroundColor: \"#ffce19\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"collapsible-body\",\n                style: {\n                  backgroundColor: \"#ffce19\",\n                  width: \"100%\"\n                },\n                src: \"gashapon-rules.png\",\n                alt: \"rules\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"collapsible-header\",\n                style: {\n                  backgroundColor: \"#ffce19\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"flow-text\",\n                  children: \"rules\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          position: \"absolute\",\n          zIndex: 8,\n          bottom: \"25%\"\n        },\n        id: \"machinescontainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"col s6 offset-s3\",\n          src: \"gashaponautomaaten.png\",\n          alt: \"Gashapon machines\",\n          id: \"largebg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"col s10 offset-s1 m6 offset-m3\",\n          src: \"mobilemachines.png\",\n          alt: \"Gashapon machines\",\n          id: \"smallbg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100vw\",\n          backgroundImage: \"linear-gradient(#616060, black)\",\n          position: \"absolute\",\n          bottom: \"0px\",\n          marginTop: \"-5em\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container2 row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col s12 l6 offset-s0 offset-l3\",\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col s2\",\n                style: {\n                  fontSize: \"3em\",\n                  userSelect: \"none\",\n                  color: \"#ffce19\",\n                  textAlign: \"right\"\n                },\n                onClick: this.handleDecrementClick,\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                style: {\n                  display: \"block\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  textAlign: \"center\",\n                  color: \"white\"\n                },\n                type: \"text\",\n                value: quantity,\n                readOnly: true,\n                className: \"col s8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col s2\",\n                onClick: this.handleIncrementClick,\n                style: {\n                  fontSize: \"3em\",\n                  userSelect: \"none\",\n                  color: \"#ffce19\"\n                },\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"100%\",\n                textAlign: \"center\",\n                color: \"#9B9B9B\",\n                marginTop: 6\n              },\n              children: [totalToken, \" $BNBALL\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(\"center\", {\n                className: \"col s4\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"darkpinkborder\",\n                  small: true,\n                  style: {\n                    width: \"90%\",\n                    display: \"block\",\n                    backgroundColor: \"#ffce19\",\n                    color: \"black\"\n                  },\n                  onClick: this.handleX10Click,\n                  children: \"X10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n                className: \"col s4\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"darkpinkborder\",\n                  small: true,\n                  style: {\n                    width: \"90%\",\n                    left: \"50%\",\n                    display: \"block\",\n                    backgroundColor: \"#ffce19\",\n                    color: \"black\"\n                  },\n                  onClick: async function () {\n                    const addy = this._selectedAddress();\n                    try {\n                      if (minimumApprove.gt(toBigNumber(await ERC20Allowance(addy, NFTContract).call()))) {\n                        const txh = await sendTransaction(PaymentTokenContract, ERC20Approve);\n                        // wait for approval to be mined and allowance to reflect\n                        const wait = ms => new Promise(r => setTimeout(r, ms));\n                        let mined = false;\n                        for (let i = 0; i < 40; i++) {\n                          const rcpt = await eth.request({\n                            method: \"eth_getTransactionReceipt\",\n                            params: [txh]\n                          });\n                          if (rcpt && rcpt.status === \"0x1\") {\n                            mined = true;\n                            break;\n                          }\n                          await wait(1500);\n                        }\n                        // extra: poll allowance until it updates\n                        if (mined) {\n                          for (let i = 0; i < 20; i++) {\n                            const cur = toBigNumber(await ERC20Allowance(addy, NFTContract).call());\n                            if (cur.gte(minimumApprove)) break;\n                            await wait(1000);\n                          }\n                        }\n                      }\n                      // Whale-friendly batching: find the largest batch that passes estimateGas and submit sequentially\n                      const wait = ms => new Promise(r => setTimeout(r, ms));\n                      async function estimateBatch(n) {\n                        try {\n                          const data = mint(addy, n.toString(), \"0x\").encodeABI();\n                          await web3_eth.estimateGas({\n                            from: addy,\n                            to: NFTContract,\n                            data\n                          });\n                          return true;\n                        } catch (_) {\n                          return false;\n                        }\n                      }\n                      async function findMaxBatch(limit) {\n                        // try full first\n                        if (await estimateBatch(limit)) return limit;\n                        // exponential backoff\n                        let hi = limit;\n                        let lo = 1;\n                        while (lo < hi) {\n                          const mid = Math.max(1, Math.floor((lo + hi + 1) / 2));\n                          if (await estimateBatch(mid)) lo = mid;else hi = mid - 1;\n                        }\n                        return lo;\n                      }\n                      let remaining = this.state.quantity;\n                      while (remaining > 0) {\n                        const thisBatch = await findMaxBatch(remaining);\n                        const txHash = await sendTransaction(NFTContract, mint(addy, thisBatch.toString(), \"0x\").encodeABI());\n                        for (let i = 0; i < 60; i++) {\n                          const rcpt = await eth.request({\n                            method: \"eth_getTransactionReceipt\",\n                            params: [txHash]\n                          });\n                          if (rcpt && rcpt.status === \"0x1\") break;\n                          await wait(1500);\n                        }\n                        remaining -= thisBatch;\n                      }\n                    } catch (e) {\n                      var _e$message;\n                      this.openModal(\"Unable to mint NFT\", (_e$message = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message !== void 0 ? _e$message : \"An unknown error occoured while minting NFT\");\n                      return;\n                    }\n                    const text = encodeURIComponent(\"I just minted $BNBALL — up to collect a 50k USD jackpot!\\nhttps://bnb-chain.blah\" // replace with your landing link\n                    );\n                    const link = \"https://twitter.com/intent/tweet?text=\".concat(text);\n                    this.openModal(\"NFT minted successfully\", \"Congratulations! Your NFT has been successfully minted and added to your collection.<br/><br/>\\n                        <a href=\\\"\".concat(link, \"\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" style=\\\"background:#ffce19;color:black;padding:8px 12px;border-radius:8px;text-decoration:none;\\\">Share on X</a>\"));\n                  }.bind(this),\n                  disabled: this.notconnected && !this._selectedAddress(),\n                  children: \"Mint\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                s: 4,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"darkpinkborder\",\n                  small: true,\n                  onClick: this.handleX100Click,\n                  style: {\n                    width: \"90%\",\n                    left: \"50%\",\n                    display: \"block\",\n                    backgroundColor: \"#ffce19\",\n                    color: \"black\"\n                  },\n                  children: \"X100\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n  async updateTotalSupply() {\n    if (this.totalSupplyLock) {\n      return;\n    }\n    this.totalSupplyLock = true;\n    try {\n      this.setState({\n        mintCount: parseInt(await totalSupply())\n      });\n    } finally {\n      this.totalSupplyLock = false;\n    }\n  }\n}\nexport default MintComponent;","map":{"version":3,"names":["React","Component","Button","Row","Col","Collapsible","Web3","web3_eth","NFTContract","PaymentTokenContract","fromWei","jsxDEV","_jsxDEV","toBigNumber","utils","toBN","minimumApprove","eth","window","ethereum","ERC20Methods","Contract","inputs","internalType","name","type","outputs","stateMutability","methods","ERC20Approve","slice","toLowerCase","ERC20Allowance","allowance","undefined","contractMethods","totalSupply","count","call","getPrice","price","mint","sendTransaction","to","data","request","method","params","from","selectedAddress","chainId","MintComponent","constructor","props","handleDecrementClick","quantity","state","setState","handleIncrementClick","handleX10Click","handleX50Click","handleX100Click","mintCount","priceWei","openModal","notconnected","_selectedAddress","w","addy","componentDidMount","p","toString","_unused","_priceTimer","setInterval","p2","_unused2","componentWillUnmount","clearInterval","render","totalWei","mul","totalToken","style","display","flexDirection","alignItems","justifyContent","flexWrap","children","id","className","src","alt","maxWidth","float","fileName","_jsxFileName","lineNumber","columnNumber","position","zIndex","left","width","backgroundColor","bottom","backgroundImage","marginTop","fontSize","userSelect","color","textAlign","onClick","value","readOnly","small","gt","txh","wait","ms","Promise","r","setTimeout","mined","i","rcpt","status","cur","gte","estimateBatch","n","encodeABI","estimateGas","_","findMaxBatch","limit","hi","lo","mid","Math","max","floor","remaining","thisBatch","txHash","e","_e$message","message","text","encodeURIComponent","link","concat","bind","disabled","s","updateTotalSupply","totalSupplyLock","parseInt"],"sources":["C:/Web3 Work Space/Gasha/BNBALL/src/MintComponent.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Row, Col, Collapsible } from \"react-materialize\";\r\nimport Web3 from \"web3\";\r\nimport \"./styles.css\";\r\nimport { web3_eth, NFTContract, PaymentTokenContract, fromWei } from \"./Common\";\r\n\r\nconst toBigNumber = Web3.utils.toBN;\r\nconst minimumApprove = toBigNumber(\"340282366920938463463374607431768211456\");\r\n\r\nconst eth = window.ethereum;\r\n\r\nlet ERC20Methods = new web3_eth.Contract(\r\n  [\r\n    {\r\n      inputs: [\r\n        { internalType: \"address\", name: \"owner\", type: \"address\" },\r\n        { internalType: \"address\", name: \"spender\", type: \"address\" }\r\n      ],\r\n      name: \"allowance\",\r\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\r\n      stateMutability: \"view\",\r\n      type: \"function\"\r\n    }\r\n  ],\r\n  PaymentTokenContract\r\n).methods;\r\nconst ERC20Approve =\r\n  \"0x095ea7b3000000000000000000000000\" +\r\n  NFTContract.slice(2).toLowerCase() +\r\n  \"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\";\r\n\r\nconst ERC20Allowance = ERC20Methods.allowance;\r\nERC20Methods = undefined;\r\nlet contractMethods = new web3_eth.Contract(\r\n  [\r\n    {\r\n      inputs: [\r\n        { internalType: \"address\", name: \"receiver\", type: \"address\" },\r\n        { internalType: \"uint256\", name: \"quantity\", type: \"uint256\" },\r\n        { internalType: \"bytes\", name: \"data\", type: \"bytes\" }\r\n      ],\r\n      name: \"mint\",\r\n      outputs: [],\r\n      stateMutability: \"nonpayable\",\r\n      type: \"function\"\r\n    },\r\n    {\r\n      inputs: [],\r\n      name: \"count\",\r\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\r\n      stateMutability: \"view\",\r\n      type: \"function\"\r\n    },\r\n    {\r\n      inputs: [],\r\n      name: \"price\",\r\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\r\n      stateMutability: \"view\",\r\n      type: \"function\"\r\n    }\r\n  ],\r\n  NFTContract\r\n).methods;\r\nconst totalSupply = contractMethods.count().call;\r\nconst getPrice = contractMethods.price().call;\r\nconst mint = contractMethods.mint;\r\nconst sendTransaction = eth\r\n  ? function (to, data) {\r\n      return eth.request({\r\n        method: \"eth_sendTransaction\",\r\n        params: [\r\n          {\r\n            from: eth.selectedAddress,\r\n            to: to,\r\n            data: data,\r\n            chainId: \"0x61\"\r\n          }\r\n        ]\r\n      });\r\n    }\r\n  : undefined;\r\ncontractMethods = undefined;\r\n\r\nclass MintComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      quantity: 1,\r\n      mintCount: 0,\r\n      priceWei: \"0\"\r\n    };\r\n    this.openModal = props.openModal;\r\n    this.notconnected = props.notconnected;\r\n  }\r\n\r\n  _selectedAddress() {\r\n    const w = window.ethereum;\r\n    // prefer prop addy when provided by parent App\r\n    return (this.props && this.props.addy) || (w && w.selectedAddress) || undefined;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const p = await getPrice();\r\n      this.setState({ priceWei: p.toString() });\r\n    } catch {}\r\n    this._priceTimer = setInterval(async () => {\r\n      try {\r\n        const p2 = await getPrice();\r\n        this.setState({ priceWei: p2.toString() });\r\n      } catch {}\r\n    }, 15000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this._priceTimer) clearInterval(this._priceTimer);\r\n  }\r\n\r\n  handleDecrementClick = () => {\r\n    const { quantity } = this.state;\r\n    if (quantity > 1) {\r\n      this.setState({ quantity: quantity - 1 });\r\n    }\r\n  };\r\n\r\n  handleIncrementClick = () => {\r\n    const { quantity } = this.state;\r\n    this.setState({ quantity: quantity + 1 });\r\n  };\r\n\r\n  handleX10Click = () => {\r\n    const { quantity } = this.state;\r\n    this.setState({ quantity: quantity + 10 });\r\n  };\r\n\r\n  handleX50Click = () => {\r\n    const { quantity } = this.state;\r\n    this.setState({ quantity: quantity + 50 });\r\n  };\r\n\r\n  handleX100Click = () => {\r\n    const { quantity } = this.state;\r\n    this.setState({ quantity: quantity + 100 });\r\n  };\r\n\r\n  render() {\r\n    const { quantity, priceWei } = this.state;\r\n    const totalWei = toBigNumber(priceWei).mul(toBigNumber(quantity));\r\n    const totalToken = fromWei(totalWei, \"ether\");\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          flexWrap: \"nowrap\"\r\n        }}\r\n      >\r\n        <Row id=\"offsetbtn\">\r\n          <div className=\"col s12\">\r\n            <img\r\n              src=\"\"\r\n              alt=\"\"\r\n              style={{ maxWidth: \"3em\", float: \"right\" }}\r\n            />\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <br />\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <img\r\n              src=\"\"\r\n              alt=\"\"\r\n              style={{ maxWidth: \"3em\", float: \"right\" }}\r\n            />\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <br />\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <img\r\n              src=\"twitter.png\"\r\n              alt=\"\"\r\n              style={{ maxWidth: \"3em\", float: \"right\" }}\r\n            />\r\n          </div>\r\n        </Row>\r\n        <Row id=\"rules\" style={{ position: \"absolute\", zIndex: 10, left: 0, width: \"100%\" }}>\r\n          <Row className=\"col s9 m6 l4\">\r\n            <Collapsible\r\n              className=\"col s12\"\r\n              style={{ backgroundColor: \"#ffce19\" }}\r\n            >\r\n              <li\r\n                className=\"col s12\"\r\n                style={{\r\n                  backgroundColor: \"#ffce19\"\r\n                }}\r\n              >\r\n                <img\r\n                  className=\"collapsible-body\"\r\n                  style={{\r\n                    backgroundColor: \"#ffce19\",\r\n                    width: \"100%\"\r\n                  }}\r\n                  src=\"gashapon-rules.png\"\r\n                  alt=\"rules\"\r\n                />\r\n                <div\r\n                  className=\"collapsible-header\"\r\n                  style={{\r\n                    backgroundColor: \"#ffce19\"\r\n                  }}\r\n                >\r\n                  <strong className=\"flow-text\">rules</strong>\r\n                </div>\r\n              </li>\r\n            </Collapsible>\r\n          </Row>\r\n        </Row>\r\n\r\n        <Row style={{ position: \"absolute\", zIndex: 8, bottom: \"25%\" }} id=\"machinescontainer\">\r\n          <img\r\n            className=\"col s6 offset-s3\"\r\n            src=\"gashaponautomaaten.png\"\r\n            alt=\"Gashapon machines\"\r\n            id=\"largebg\"\r\n          />\r\n          <img\r\n            className=\"col s10 offset-s1 m6 offset-m3\"\r\n            src=\"mobilemachines.png\"\r\n            alt=\"Gashapon machines\"\r\n            id=\"smallbg\"\r\n          />\r\n        </Row>\r\n        <div\r\n          style={{\r\n            width: \"100vw\",\r\n            backgroundImage: \"linear-gradient(#616060, black)\",\r\n            position: \"absolute\",\r\n            bottom: \"0px\",\r\n            marginTop: \"-5em\"\r\n          }}\r\n        >\r\n          <div className=\"container2 row\">\r\n            <div className=\"col s12 l6 offset-s0 offset-l3\">\r\n              <Row>\r\n                <div>\r\n                  <br />\r\n                  <br />\r\n                </div>\r\n                <div className=\"col s2\" style={{ fontSize: \"3em\", userSelect: \"none\", color: \"#ffce19\", textAlign: \"right\" }} onClick={this.handleDecrementClick}>-</div>\r\n                <input\r\n                  style={{\r\n                    display: \"block\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    textAlign: \"center\",\r\n                    color: \"white\"\r\n                  }}\r\n                  type=\"text\"\r\n                  value={quantity}\r\n                  readOnly\r\n                  className=\"col s8\"\r\n                />\r\n                <div className=\"col s2\" onClick={this.handleIncrementClick} style={{ fontSize: \"3em\", userSelect: \"none\", color: \"#ffce19\" }}>+</div>\r\n              </Row>\r\n              <div style={{ width: \"100%\", textAlign: \"center\", color: \"#9B9B9B\", marginTop: 6 }}>\r\n                {totalToken} $BNBALL\r\n              </div>\r\n              <div>\r\n                <br />\r\n              </div>\r\n              <Row>\r\n                <center className=\"col s4\">\r\n                  <Button\r\n                    className=\"darkpinkborder\"\r\n                    small\r\n                    style={{ width: \"90%\", display: \"block\", backgroundColor: \"#ffce19\", color: \"black\" }}\r\n                    onClick={this.handleX10Click}\r\n                  >\r\n                    X10\r\n                  </Button>\r\n                </center>\r\n                <center className=\"col s4\">\r\n                  <Button\r\n                    className=\"darkpinkborder\"\r\n                    small\r\n                    style={{ width: \"90%\", left: \"50%\", display: \"block\", backgroundColor: \"#ffce19\", color: \"black\" }}\r\n                    onClick={async function () {\r\n                      const addy = this._selectedAddress();\r\n                      try {\r\n                        if (\r\n                          minimumApprove.gt(\r\n                            toBigNumber(\r\n                              await ERC20Allowance(addy, NFTContract).call()\r\n                            )\r\n                          )\r\n                        ) {\r\n                          const txh = await sendTransaction(\r\n                            PaymentTokenContract,\r\n                            ERC20Approve\r\n                          );\r\n                          // wait for approval to be mined and allowance to reflect\r\n                          const wait = (ms) => new Promise((r) => setTimeout(r, ms));\r\n                          let mined = false;\r\n                          for (let i = 0; i < 40; i++) {\r\n                            const rcpt = await eth.request({\r\n                              method: \"eth_getTransactionReceipt\",\r\n                              params: [txh]\r\n                            });\r\n                            if (rcpt && rcpt.status === \"0x1\") {\r\n                              mined = true;\r\n                              break;\r\n                            }\r\n                            await wait(1500);\r\n                          }\r\n                          // extra: poll allowance until it updates\r\n                          if (mined) {\r\n                            for (let i = 0; i < 20; i++) {\r\n                              const cur = toBigNumber(\r\n                                await ERC20Allowance(addy, NFTContract).call()\r\n                              );\r\n                              if (cur.gte(minimumApprove)) break;\r\n                              await wait(1000);\r\n                            }\r\n                          }\r\n                        }\r\n                        // Whale-friendly batching: find the largest batch that passes estimateGas and submit sequentially\r\n                        const wait = (ms) => new Promise((r) => setTimeout(r, ms));\r\n                        async function estimateBatch(n) {\r\n                          try {\r\n                            const data = mint(addy, n.toString(), \"0x\").encodeABI();\r\n                            await web3_eth.estimateGas({ from: addy, to: NFTContract, data });\r\n                            return true;\r\n                          } catch (_) {\r\n                            return false;\r\n                          }\r\n                        }\r\n                        async function findMaxBatch(limit) {\r\n                          // try full first\r\n                          if (await estimateBatch(limit)) return limit;\r\n                          // exponential backoff\r\n                          let hi = limit;\r\n                          let lo = 1;\r\n                          while (lo < hi) {\r\n                            const mid = Math.max(1, Math.floor((lo + hi + 1) / 2));\r\n                            if (await estimateBatch(mid)) lo = mid; else hi = mid - 1;\r\n                          }\r\n                          return lo;\r\n                        }\r\n                        let remaining = this.state.quantity;\r\n                        while (remaining > 0) {\r\n                          const thisBatch = await findMaxBatch(remaining);\r\n                          const txHash = await sendTransaction(\r\n                            NFTContract,\r\n                            mint(addy, thisBatch.toString(), \"0x\").encodeABI()\r\n                          );\r\n                          for (let i = 0; i < 60; i++) {\r\n                            const rcpt = await eth.request({ method: \"eth_getTransactionReceipt\", params: [txHash] });\r\n                            if (rcpt && rcpt.status === \"0x1\") break;\r\n                            await wait(1500);\r\n                          }\r\n                          remaining -= thisBatch;\r\n                        }\r\n                      } catch (e) {\r\n                        this.openModal(\r\n                          \"Unable to mint NFT\",\r\n                          e?.message ??\r\n                            \"An unknown error occoured while minting NFT\"\r\n                        );\r\n                        return;\r\n                      }\r\n                      const text = encodeURIComponent(\r\n                        \"I just minted $BNBALL — up to collect a 50k USD jackpot!\\nhttps://bnb-chain.blah\" // replace with your landing link\r\n                      );\r\n                      const link = `https://twitter.com/intent/tweet?text=${text}`;\r\n                      this.openModal(\r\n                        \"NFT minted successfully\",\r\n                        `Congratulations! Your NFT has been successfully minted and added to your collection.<br/><br/>\r\n                        <a href=\"${link}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"background:#ffce19;color:black;padding:8px 12px;border-radius:8px;text-decoration:none;\">Share on X</a>`\r\n                      );\r\n                    }.bind(this)}\r\n                    disabled={this.notconnected && !this._selectedAddress()}\r\n                  >\r\n                    Mint\r\n                  </Button>\r\n                </center>\r\n                <Col s={4}>\r\n                  <Button\r\n                    className=\"darkpinkborder\"\r\n                    small\r\n                    onClick={this.handleX100Click}\r\n                    style={{ width: \"90%\", left: \"50%\", display: \"block\", backgroundColor: \"#ffce19\", color: \"black\" }}\r\n                  >\r\n                    X100\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  async updateTotalSupply() {\r\n    if (this.totalSupplyLock) {\r\n      return;\r\n    }\r\n    this.totalSupplyLock = true;\r\n    try {\r\n      this.setState({ mintCount: parseInt(await totalSupply()) });\r\n    } finally {\r\n      this.totalSupplyLock = false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MintComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}