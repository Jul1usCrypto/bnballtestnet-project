{"ast":null,"code":"import\"./styles.css\";import M from\"materialize-css\";import{Button,Row,Card,Collapsible}from\"react-materialize\";import React,{Component}from\"react\";import MintComponent from\"./MintComponent\";import{web3_eth,BatchRequest,NFTContract}from\"./Common\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryPostfix=\"/nft?chain=0x61&format=decimal&limit=100&token_addresses%5B0%5D=\"+NFTContract+\"&media_items=false\";let contractMethods=new web3_eth.Contract([{inputs:[{internalType:\"uint256\",name:\"id\",type:\"uint256\"}],name:\"getVariant\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256\",name:\"tokenId\",type:\"uint256\"}],name:\"tokenURI\",outputs:[{internalType:\"string\",name:\"\",type:\"string\"}],stateMutability:\"view\",type:\"function\"},{inputs:[{internalType:\"uint256[100]\",name:\"tokens\",type:\"uint256[100]\"},{internalType:\"address\",name:\"rewardsReceiver\",type:\"address\"},{internalType:\"bytes\",name:\"data\",type:\"bytes\"}],name:\"burnCollection1\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"},{inputs:[{internalType:\"uint256[20]\",name:\"tokens\",type:\"uint256[20]\"},{internalType:\"uint256\",name:\"minimumJackpot\",type:\"uint256\"},{internalType:\"address\",name:\"rewardsReceiver\",type:\"address\"}],name:\"burnCollection2\",outputs:[],stateMutability:\"nonpayable\",type:\"function\"}],NFTContract).methods;const GetNFTVariant=contractMethods.getVariant;const GetTokenURI=contractMethods.tokenURI;const{burnCollection1,burnCollection2}=contractMethods;contractMethods=undefined;const variantsCache={};const tokenUriCache={};const imageCache={};const simpleModal={};const htmlspecialchars=function(){const mapObj={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#039;\"};const re=new RegExp(Object.keys(mapObj).join(\"|\"),\"gi\");return function(str){return str.replace(re,function(matched){return mapObj[matched.toLowerCase()];});};}();const safetoast=function(text){M.toast({html:htmlspecialchars(text)});};const fasttoast=function(text){M.toast({html:text});};const injected=window.ethereum;const sendTransaction=injected?function(data){return injected.request({method:\"eth_sendTransaction\",params:[{from:injected.selectedAddress,to:NFTContract,data:data,chainId:\"0x61\"}]});}:undefined;class ModalExample extends Component{constructor(props){super(props);this.state={currentHeader:\"\",currentBody:\"\"};this.NFTListLOCK=false;}componentDidMount(){simpleModal.show=this.showModal.bind(this);Object.freeze(this.simpleModal);}showModal(header,body){this.setState({currentHeader:htmlspecialchars(header),currentBody:htmlspecialchars(body)},()=>{const elem=document.getElementById(\"theModal\");const instance=M.Modal.init(elem);instance.open();});}render(){const{currentHeader,currentBody}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",id:\"theModal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",style:{color:\"black\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:currentHeader}),/*#__PURE__*/_jsx(\"p\",{children:currentBody})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#!\",className:\"modal-close waves-effect waves-green btn-flat\",children:\"Close\"})})]});}}class NftCard extends Component{constructor(props){super(props);this.nftid=props.nftid;this.variant=props.variant;this.state={img:undefined};}async componentDidMount(){try{const id=this.nftid;let uri=tokenUriCache[id];if(!uri){uri=await GetTokenURI(id).call();tokenUriCache[id]=uri;}if(uri&&typeof uri===\"string\"){let http=uri.startsWith(\"ipfs://\")?\"https://ipfs.io/ipfs/\"+uri.slice(7):uri;const cached=imageCache[http];if(cached){this.setState({img:cached});return;}const res=await fetch(http);const meta=await res.json();let img=(meta===null||meta===void 0?void 0:meta.image)||(meta===null||meta===void 0?void 0:meta.image_url);if(img&&typeof img===\"string\"){if(img.startsWith(\"ipfs://\"))img=\"https://ipfs.io/ipfs/\"+img.slice(7);imageCache[http]=img;this.setState({img});}}}catch(e){// ignore, fallback to variant sprite\n}}render(){const{nftid,variant}=this;const{img}=this.state;return/*#__PURE__*/_jsxs(Card,{className:\"col s6 l3\",title:\"NFT #\"+nftid,style:{backgroundColor:\"rgba(0, 0, 0, 0)\"},children:[/*#__PURE__*/_jsx(\"img\",{crossOrigin:\"anonymous\",alt:\"\",src:img||\"nft-\"+variant+\".png\",style:{width:\"100%\"},className:\"card-content\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-action\",style:{width:\"100%\"}}),/*#__PURE__*/_jsx(Button,{style:{width:\"100%\",display:\"block\"},children:\"trade\"})]});}}class NFTList extends Component{constructor(props){var _props$minjackpot;super(props);this.addy=props.addy;this.state={nftlist:null,claimLegendarySets:1};this.minjackpot=(_props$minjackpot=props.minjackpot)!==null&&_props$minjackpot!==void 0?_props$minjackpot:\"1\";this.NFTListLOCK=false;}async refreshNFTListLoop(){const{addy}=this;if(!addy||this.NFTListLOCK){return;}this.NFTListLOCK=true;try{const nftlist=[];let cursor=undefined;while(true){const xhr=new XMLHttpRequest();const query1=\"https://deep-index.moralis.io/api/v2/\"+addy+queryPostfix;xhr.open(\"GET\",cursor?query1+\"&cursor=\"+cursor:query1,true);xhr.setRequestHeader(\"accept\",\"application/json\");xhr.setRequestHeader(\"X-API-Key\",\"pIPuzImDyQXnJmUAmA0MrBWw87WFwtv7GLVAy9mXnarIp8lSLDmwDpMmDfEOEhoJ\");const fatnftlist=JSON.parse(await new Promise(function(resolve,reject){xhr.onload=function(){const{status,responseText}=xhr;if(status>199&&status<300){resolve(responseText);}else{try{const errortext=JSON.parse(responseText).message;fasttoast(\"Unable to fetch NFT collection: \"+htmlspecialchars(errortext));reject(\"Moralis API call failed: \"+errortext);}catch(e){reject(e);}}};xhr.onerror=reject;xhr.send();}));for(const{token_id}of fatnftlist.result){nftlist.push(token_id);}cursor=fatnftlist.cursor;if(!cursor){break;}}await new Promise(function(completer,rejecter){let ctr=0;const batch=new BatchRequest();let target=0;for(const nftid2 of nftlist){if(variantsCache[nftid2]===undefined){batch.add(GetNFTVariant(nftid2).call.request({},function(error,result){if(error){rejecter(error);}else{const asint=parseInt(result,10);if(asint>0){variantsCache[nftid2]=asint.toString();}if(target===++ctr){completer();}}}));}}target=batch.requests.length;if(target>0){batch.execute();}else{completer();}});this.setState({nftlist:nftlist});}catch(_unused){// swallow; toast already shown upstream when possible\n}finally{this.NFTListLOCK=false;}}componentDidMount(){const thefun=this.refreshNFTListLoop.bind(this);this.interval=setInterval(thefun,10000);thefun();}componentWillUnmount(){clearInterval(this.interval);}render(){const{nftlist}=this.state;const{addy,minjackpot}=this;if(nftlist===null){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{backgroundColor:\"#FFAAC9\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"black\",width:\"100%\"},children:\"Loading collection...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"indeterminate\"})})]});}const nftlist2={};for(const id of nftlist){const variant=variantsCache[id];const nestedlist=nftlist2[variant];if(nestedlist){nestedlist.push(id);}else{nftlist2[variant]=[id];}}const rngqueue=nftlist2[\"undefined\"];delete nftlist2[\"undefined\"];const entries=Object.entries(nftlist2);const legendaryList=[];const commonList=[];let commonCount=0;let legendaryCount=0;for(const relation of entries){let list3;const len6=relation[1].length;if(relation[0]>20){list3=legendaryList;legendaryCount+=len6;}else{list3=commonList;commonCount+=len6;}list3.push(relation);}// Build maps for faster lookups\nconst commonMap={};for(const[variantKey,ids]of commonList){commonMap[variantKey]=ids;}const legendaryMap={};for(const[variantKey,ids]of legendaryList){legendaryMap[variantKey]=ids;}// Select exactly 5 of each common variant (1..20)\nlet legendaryBurnList=[];for(let v=1;v<=20;v++){const arr=commonMap[v];if(!arr||arr.length<5){legendaryBurnList=undefined;break;}for(let i=0;i<5;i++)legendaryBurnList.push(arr[i]);}// compute how many full legendary claim sets are available (5 of each common)\nlet maxSets=Infinity;for(let v=1;v<=20;v++){const arr=commonMap[v]||[];const sets=Math.floor(arr.length/5);if(sets<maxSets)maxSets=sets;}if(maxSets===Infinity)maxSets=0;// Select exactly 1 of each legendary variant (21..40)\nlet jackpotBurnList=[];for(let v=21;v<=40;v++){const arr=legendaryMap[v];if(!arr||arr.length<1){jackpotBurnList=undefined;break;}jackpotBurnList.push(arr[0]);}const jackpotBurnABI=jackpotBurnList&&jackpotBurnList.length===20?burnCollection2(jackpotBurnList,minjackpot,addy).encodeABI():undefined;jackpotBurnList=undefined;return/*#__PURE__*/_jsxs(\"div\",{className:\"App row\",children:[/*#__PURE__*/_jsxs(Row,{className:\"col s12\",style:{margin:0,display:\"flex\",alignItems:\"flex-end\",width:\"100%\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsxs(Row,{className:\"col s12 m6\",style:{marginLeft:\"-10px\",paddingLeft:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col s12\",style:{display:\"flex\",gap:8,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\"},children:\"Legendary sets:\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{minWidth:36,padding:\"0 10px\"},onClick:()=>this.setState({claimLegendarySets:Math.max(1,this.state.claimLegendarySets-1)}),children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{style:{width:60,textAlign:\"center\",color:\"black\",background:\"#fff\",borderRadius:6},value:this.state.claimLegendarySets,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{minWidth:36,padding:\"0 10px\"},onClick:()=>this.setState({claimLegendarySets:this.state.claimLegendarySets+1}),children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{marginLeft:8,backgroundColor:\"#ffce19\",color:\"black\"},onClick:()=>this.setState({claimLegendarySets:Math.max(1,maxSets)}),children:\"Max\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-light col s12 m6\",disabled:maxSets<1,onClick:async function(){try{const setsToClaim=Math.min(this.state.claimLegendarySets,maxSets);const wait=ms=>new Promise(r=>setTimeout(r,ms));for(let k=0;k<setsToClaim;k++){const list=[];for(let v=1;v<=20;v++){const arr=commonMap[v];for(let i=0;i<5;i++)list.push(arr[5*k+i]);}const abi=burnCollection1(list,addy,\"0x\").encodeABI();const txHash=await sendTransaction(abi);for(let i=0;i<60;i++){const rcpt=await window.ethereum.request({method:\"eth_getTransactionReceipt\",params:[txHash]});if(rcpt&&rcpt.status===\"0x1\")break;await wait(1500);}}}catch(e){console.log(e);}}.bind(this),style:{flex:\"none\"},children:\"claim legendary\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-light col s12 m6\",disabled:!jackpotBurnABI,onClick:async function(){try{await sendTransaction(jackpotBurnABI);}catch(e){console.log(e);}},style:{flex:\"none\"},children:\"claim jackpot\"})]}),/*#__PURE__*/_jsx(\"img\",{src:\"jackpot-dashboard.png\",alt:\"jackpot = 50k\",className:\"col s12 m6\",style:{flex:\"none\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#FFAAC9\"},className:\"col s12 row\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"black\",marginTop:\"-0.5em\",width:\"100%\"},children:\"MY COLLECTION\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\",margin:\"8px 0\",width:\"100%\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{backgroundColor:\"#ffce19\",color:\"black\",borderRadius:24},onClick:()=>{this.NFTListLOCK=false;fasttoast(\"Refreshing...\");this.refreshNFTListLoop();},children:\"Verify\"})}),commonList.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"flow-text\",style:{color:\"black\"},children:\"You don't have any common NFTs yet. You should try minting some!\"}):/*#__PURE__*/_jsx(NFTCollapsible,{nftlist:commonList}),legendaryList.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"flow-text\",style:{color:\"black\"},children:\"You don't have any legendary NFTs yet. You can get one by burning a full collection of common NFTs (20 common variants x 5 NFTs per variant).\"}):/*#__PURE__*/_jsx(NFTCollapsible,{nftlist:legendaryList,isLegendary:true}),rngqueue&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",margin:\"12px 0\"},children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:0,color:\"black\"},children:\"Verify your collection\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{backgroundColor:\"#ffce19\",color:\"black\",borderRadius:24},onClick:()=>{this.NFTListLOCK=false;fasttoast(\"Refreshing...\");this.refreshNFTListLoop();},children:\"Verify\"})]}),/*#__PURE__*/_jsx(Collapsible,{className:\"col s12\",children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"flow-text collapsible-header\",style:{backgroundImage:\"linear-gradient(90deg, #9B9B9B, white, #9B9B9B)\",borderRadius:\"999px 999px 999px 999px\",width:\"100%\",borderBottom:\"5px solid black\",borderLeft:\"5px solid black\",color:\"black\"},children:rngqueue.length.toString()+\" NFTs pending variant assignment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collapsible-body\",style:{border:0},children:/*#__PURE__*/_jsx(NFTSet,{variant:\"0\",nftlist:rngqueue})})]})}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:\"The Gashapon NFT contract employs a hierarchical derivation CSRNG technique that minimizes the frequency of calls made to ChainLink VRF. This results in substantial savings on gas fees and LINK, while ensuring the highest level of casino-grade resistance to manipulation and randomness. However, one limitation of this method is that new NFTs will not be allocated a variant until the shiftRng() function is next executed.\"}),/*#__PURE__*/_jsx(Collapsible,{className:\"col s12\",children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"flow-text collapsible-header\",style:{backgroundColor:\"#ffce19\",borderRadius:\"999px\",borderBottom:\"5px solid black\",borderLeft:\"5px solid black\",width:\"100%\",color:\"black\"},children:\"Rarity summary (your holdings)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collapsible-body\",style:{border:0},children:/*#__PURE__*/_jsxs(\"div\",{style:{color:\"black\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Commons (1\\u201320):\"}),/*#__PURE__*/_jsx(\"div\",{children:Array.from({length:20},(_,i)=>i+1).map(v=>{var _nftlist2$v$length,_nftlist2$v;const c=(_nftlist2$v$length=(_nftlist2$v=nftlist2[v])===null||_nftlist2$v===void 0?void 0:_nftlist2$v.length)!==null&&_nftlist2$v$length!==void 0?_nftlist2$v$length:0;return/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:\"0.9em\"},children:[\"V\",v,\": \",c,\"/5\"]});})}),/*#__PURE__*/_jsx(\"strong\",{children:\"Legendaries (21\\u201340):\"}),/*#__PURE__*/_jsx(\"div\",{children:Array.from({length:20},(_,i)=>i+21).map(v=>{var _nftlist2$v$length2,_nftlist2$v2;const c=(_nftlist2$v$length2=(_nftlist2$v2=nftlist2[v])===null||_nftlist2$v2===void 0?void 0:_nftlist2$v2.length)!==null&&_nftlist2$v$length2!==void 0?_nftlist2$v$length2:0;return/*#__PURE__*/_jsxs(\"span\",{style:{marginRight:\"0.9em\"},children:[\"V\",v,\": \",c,\"/1\"]});})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[\"Hidden (pending): \",rngqueue.length]})]})})]})})]})]})]});}}class NFTCollapsible extends Component{constructor(props){super(props);this.nftlist=props.nftlist;this.isLegendary=props.isLegendary;}render(){const{nftlist,isLegendary}=this;const ending=isLegendary?\"/1 NFTs collected\":\"/5 NFTs collected\";const prefix=isLegendary?\"Legendary set #\":\"Set #\";return/*#__PURE__*/_jsx(Collapsible,{className:\"col s12\",children:nftlist.map(_ref=>{let[key,val1]=_ref;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"flow-text collapsible-header\",style:isLegendary?{backgroundImage:\"linear-gradient(90deg, #FEBA0A, #FFF469, #FEBA0A)\",borderRadius:\"999px 999px 999px 999px\",borderBottom:\"5px solid black\",borderLeft:\"5px solid black\",width:\"100%\"}:{backgroundColor:\"#ff7bac\",borderRadius:\"999px 999px 999px 999px\",borderBottom:\"5px solid black\",borderLeft:\"5px solid black\",width:\"100%\"},children:prefix+(isLegendary?(key-20).toString():key)+\": \"+val1.length.toString()+ending}),/*#__PURE__*/_jsx(\"div\",{className:\"collapsible-body\",style:{border:0},children:/*#__PURE__*/_jsx(NFTSet,{nftlist:val1,variant:key})})]});})});}}class NFTSet extends Component{constructor(props){super(props);this.nftlist=props.nftlist;this.variant=props.variant;}render(){const{nftlist,variant}=this;return/*#__PURE__*/_jsx(Row,{className:\"col s12\",children:nftlist.map(id=>/*#__PURE__*/_jsx(NftCard,{nftid:id,title:\"NFT #\"+id.toString(),variant:variant},id))});}}class App extends Component{constructor(props){super(props);this.state={addy:undefined,eth:undefined,providers:[],chosenIndex:0,modalOpen:false,isMintPage:true};}async connectWallet(){let LOCK=false;const{eth}=this.state;if(!eth){this.openModal(\"No wallet found\",\"No wallets are detected, please install MetaMask\");return;}if(LOCK){return;}LOCK=true;try{await eth.request({method:\"wallet_switchEthereumChain\",params:[{chainId:\"0x61\"}]});const temp=await eth.request({method:\"eth_requestAccounts\"});this.setState({addy:temp[0]});}catch(err){this.openModal(\"Wallet connection error\",\"Unable to connect wallet!\");return;}finally{LOCK=false;}this.openModal(\"Wallet connected!\",\"Congratulations! Your wallet has been successfully connected to the dapp. You can now start using the features and functionalities available to you. Enjoy!\");}openModal(header,body){this.setState({modalOpen:true});simpleModal.show(header,body);}componentDidMount(){var _injected$providers;// Detect injected providers (MetaMask, Coinbase, etc.) and auto-pick (prefer MetaMask)\nconst provs=[];if(injected!==null&&injected!==void 0&&(_injected$providers=injected.providers)!==null&&_injected$providers!==void 0&&_injected$providers.length){for(const p of injected.providers)provs.push(p);}else if(injected){provs.push(injected);}let pick=provs.find(p=>p.isMetaMask)||provs[0];this.setState({providers:provs,eth:pick});if(pick){pick.on(\"accountsChanged\",accounts=>{this.setState({addy:accounts===null||accounts===void 0?void 0:accounts[0]});});const addy2=pick.selectedAddress;if(addy2)this.setState({addy:addy2});}}componentWillUnmount(){const{eth}=this.state;if(eth)eth.removeAllListeners(\"accountsChanged\");}render(){const{addy,modalOpen,isMintPage,providers,chosenIndex}=this.state;const shorten=a=>a?a.slice(0,6)+\"…\"+a.slice(-4):\"\";const setState2=this.setState.bind(this);return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(ModalExample,{style:{zIndex:3},isOpen:modalOpen}),/*#__PURE__*/_jsxs(\"div\",{className:\"container2\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"gashaponlogo-1.png\",alt:\"Gashapon logo\",className:\"col s12 l4\"}),addy?/*#__PURE__*/_jsxs(\"div\",{className:\"col s6 l3 right\",style:{display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",gap:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\"},children:shorten(addy)}),/*#__PURE__*/_jsx(\"img\",{src:\"exit.png\",alt:\"disconnect\",style:{width:28,height:28,cursor:\"pointer\"},onClick:()=>{const{eth}=this.state;if(eth)eth.removeAllListeners(\"accountsChanged\");this.setState({addy:undefined});}})]}):/*#__PURE__*/_jsx(\"div\",{className:\"col s12 l6 right\",style:{display:\"flex\",gap:8,justifyContent:\"flex-end\"},children:/*#__PURE__*/_jsx(Button,{onClick:this.connectWallet.bind(this),waves:\"light\",elem:\"button\",children:\"Connect Wallet\"})}),addy&&/*#__PURE__*/_jsx(Button,{waves:\"light\",elem:\"button\",className:\"col s6 l3 right\",styles:{display:\"inline-block\"},onClick:function(){setState2({isMintPage:!isMintPage});},children:isMintPage?\"dashboard\":\"mint\"})]}),isMintPage?/*#__PURE__*/_jsx(MintComponent,{notconnected:!addy,openModal:this.openModal.bind(this)}):addy?/*#__PURE__*/_jsx(NFTList,{addy:addy}):/*#__PURE__*/_jsx(\"div\",{className:\"App blue-grey darken-3\"})]})]});}}export default App;","map":{"version":3,"names":["M","Button","Row","Card","Collapsible","React","Component","MintComponent","web3_eth","BatchRequest","NFTContract","jsx","_jsx","jsxs","_jsxs","queryPostfix","contractMethods","Contract","inputs","internalType","name","type","outputs","stateMutability","methods","GetNFTVariant","getVariant","GetTokenURI","tokenURI","burnCollection1","burnCollection2","undefined","variantsCache","tokenUriCache","imageCache","simpleModal","htmlspecialchars","mapObj","re","RegExp","Object","keys","join","str","replace","matched","toLowerCase","safetoast","text","toast","html","fasttoast","injected","window","ethereum","sendTransaction","data","request","method","params","from","selectedAddress","to","chainId","ModalExample","constructor","props","state","currentHeader","currentBody","NFTListLOCK","componentDidMount","show","showModal","bind","freeze","header","body","setState","elem","document","getElementById","instance","Modal","init","open","render","className","id","children","style","color","href","NftCard","nftid","variant","img","uri","call","http","startsWith","slice","cached","res","fetch","meta","json","image","image_url","e","title","backgroundColor","crossOrigin","alt","src","width","display","NFTList","_props$minjackpot","addy","nftlist","claimLegendarySets","minjackpot","refreshNFTListLoop","cursor","xhr","XMLHttpRequest","query1","setRequestHeader","fatnftlist","JSON","parse","Promise","resolve","reject","onload","status","responseText","errortext","message","onerror","send","token_id","result","push","completer","rejecter","ctr","batch","target","nftid2","add","error","asint","parseInt","toString","requests","length","execute","_unused","thefun","interval","setInterval","componentWillUnmount","clearInterval","nftlist2","nestedlist","rngqueue","entries","legendaryList","commonList","commonCount","legendaryCount","relation","list3","len6","commonMap","variantKey","ids","legendaryMap","legendaryBurnList","v","arr","i","maxSets","Infinity","sets","Math","floor","jackpotBurnList","jackpotBurnABI","encodeABI","margin","alignItems","flexWrap","marginLeft","paddingLeft","gap","minWidth","padding","onClick","max","textAlign","background","borderRadius","value","readOnly","disabled","setsToClaim","min","wait","ms","r","setTimeout","k","list","abi","txHash","rcpt","console","log","flex","marginTop","justifyContent","NFTCollapsible","isLegendary","backgroundImage","borderBottom","borderLeft","border","NFTSet","Array","_","map","_nftlist2$v$length","_nftlist2$v","c","marginRight","_nftlist2$v$length2","_nftlist2$v2","ending","prefix","_ref","key","val1","App","eth","providers","chosenIndex","modalOpen","isMintPage","connectWallet","LOCK","openModal","temp","err","_injected$providers","provs","p","pick","find","isMetaMask","on","accounts","addy2","removeAllListeners","shorten","a","setState2","minHeight","zIndex","isOpen","height","waves","styles","notconnected"],"sources":["C:/Web3 Work Space/Gasha/BNBALL/src/App.js"],"sourcesContent":["import \"./styles.css\";\nimport M from \"materialize-css\";\nimport { Button, Row, Card, Collapsible } from \"react-materialize\";\nimport React, { Component } from \"react\";\nimport MintComponent from \"./MintComponent\";\nimport { web3_eth, BatchRequest, NFTContract } from \"./Common\";\n\nconst queryPostfix =\n  \"/nft?chain=0x61&format=decimal&limit=100&token_addresses%5B0%5D=\" +\n  NFTContract +\n  \"&media_items=false\";\n\nlet contractMethods = new web3_eth.Contract(\n  [\n    {\n      inputs: [{ internalType: \"uint256\", name: \"id\", type: \"uint256\" }],\n      name: \"getVariant\",\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n      stateMutability: \"view\",\n      type: \"function\"\n    },\n    {\n      inputs: [{ internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }],\n      name: \"tokenURI\",\n      outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n      stateMutability: \"view\",\n      type: \"function\"\n    },\n    {\n      inputs: [\n        {\n          internalType: \"uint256[100]\",\n          name: \"tokens\",\n          type: \"uint256[100]\"\n        },\n        {\n          internalType: \"address\",\n          name: \"rewardsReceiver\",\n          type: \"address\"\n        },\n        {\n          internalType: \"bytes\",\n          name: \"data\",\n          type: \"bytes\"\n        }\n      ],\n      name: \"burnCollection1\",\n      outputs: [],\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    },\n    {\n      inputs: [\n        {\n          internalType: \"uint256[20]\",\n          name: \"tokens\",\n          type: \"uint256[20]\"\n        },\n        {\n          internalType: \"uint256\",\n          name: \"minimumJackpot\",\n          type: \"uint256\"\n        },\n        {\n          internalType: \"address\",\n          name: \"rewardsReceiver\",\n          type: \"address\"\n        }\n      ],\n      name: \"burnCollection2\",\n      outputs: [],\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }\n  ],\n  NFTContract\n).methods;\n\nconst GetNFTVariant = contractMethods.getVariant;\nconst GetTokenURI = contractMethods.tokenURI;\nconst { burnCollection1, burnCollection2 } = contractMethods;\ncontractMethods = undefined;\n\nconst variantsCache = {};\nconst tokenUriCache = {};\nconst imageCache = {};\n\nconst simpleModal = {};\n\nconst htmlspecialchars = (function () {\n  const mapObj = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#039;\"\n  };\n  const re = new RegExp(Object.keys(mapObj).join(\"|\"), \"gi\");\n\n  return function (str) {\n    return str.replace(re, function (matched) {\n      return mapObj[matched.toLowerCase()];\n    });\n  };\n})();\nconst safetoast = function (text) {\n  M.toast({ html: htmlspecialchars(text) });\n};\nconst fasttoast = function (text) {\n  M.toast({ html: text });\n};\n\nconst injected = window.ethereum;\n\nconst sendTransaction = injected\n  ? function (data) {\n      return injected.request({\n        method: \"eth_sendTransaction\",\n        params: [\n          {\n            from: injected.selectedAddress,\n            to: NFTContract,\n            data: data,\n            chainId: \"0x61\"\n          }\n        ]\n      });\n    }\n  : undefined;\n\nclass ModalExample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentHeader: \"\",\n      currentBody: \"\"\n    };\n    this.NFTListLOCK = false;\n  }\n\n  componentDidMount() {\n    simpleModal.show = this.showModal.bind(this);\n    Object.freeze(this.simpleModal);\n  }\n\n  showModal(header, body) {\n    this.setState(\n      {\n        currentHeader: htmlspecialchars(header),\n        currentBody: htmlspecialchars(body)\n      },\n      () => {\n        const elem = document.getElementById(\"theModal\");\n        const instance = M.Modal.init(elem);\n        instance.open();\n      }\n    );\n  }\n\n  render() {\n    const { currentHeader, currentBody } = this.state;\n    return (\n      <div className=\"modal\" id=\"theModal\">\n        <div className=\"modal-content\" style={{ color: \"black\" }}>\n          <strong>{currentHeader}</strong>\n          <p>{currentBody}</p>\n        </div>\n        <div className=\"modal-footer\">\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect waves-green btn-flat\"\n          >\n            Close\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\nclass NftCard extends Component {\n  constructor(props) {\n    super(props);\n    this.nftid = props.nftid;\n    this.variant = props.variant;\n    this.state = { img: undefined };\n  }\n\n  async componentDidMount() {\n    try {\n      const id = this.nftid;\n      let uri = tokenUriCache[id];\n      if (!uri) {\n        uri = await GetTokenURI(id).call();\n        tokenUriCache[id] = uri;\n      }\n      if (uri && typeof uri === \"string\") {\n        let http = uri.startsWith(\"ipfs://\")\n          ? \"https://ipfs.io/ipfs/\" + uri.slice(7)\n          : uri;\n        const cached = imageCache[http];\n        if (cached) {\n          this.setState({ img: cached });\n          return;\n        }\n        const res = await fetch(http);\n        const meta = await res.json();\n        let img = meta?.image || meta?.image_url;\n        if (img && typeof img === \"string\") {\n          if (img.startsWith(\"ipfs://\")) img = \"https://ipfs.io/ipfs/\" + img.slice(7);\n          imageCache[http] = img;\n          this.setState({ img });\n        }\n      }\n    } catch (e) {\n      // ignore, fallback to variant sprite\n    }\n  }\n\n  render() {\n    const { nftid, variant } = this;\n    const { img } = this.state;\n    return (\n      <Card\n        className=\"col s6 l3\"\n        title={\"NFT #\" + nftid}\n        style={{ backgroundColor: \"rgba(0, 0, 0, 0)\" }}\n      >\n        <img\n          crossOrigin=\"anonymous\"\n          alt=\"\"\n          src={img || (\"nft-\" + variant + \".png\")}\n          style={{ width: \"100%\" }}\n          className=\"card-content\"\n        />\n        <div className=\"card-action\" style={{ width: \"100%\" }}></div>\n        <Button style={{ width: \"100%\", display: \"block\" }}>trade</Button>\n      </Card>\n    );\n  }\n}\n\nclass NFTList extends Component {\n  constructor(props) {\n    super(props);\n    this.addy = props.addy;\n    this.state = {\n      nftlist: null,\n      claimLegendarySets: 1\n    };\n    this.minjackpot = props.minjackpot ?? \"1\";\n    this.NFTListLOCK = false;\n  }\n\n  async refreshNFTListLoop() {\n    const { addy } = this;\n    if (!addy || this.NFTListLOCK) {\n      return;\n    }\n    this.NFTListLOCK = true;\n    try {\n      const nftlist = [];\n      let cursor = undefined;\n      while (true) {\n        const xhr = new XMLHttpRequest();\n        const query1 =\n          \"https://deep-index.moralis.io/api/v2/\" + addy + queryPostfix;\n        xhr.open(\"GET\", cursor ? query1 + \"&cursor=\" + cursor : query1, true);\n        xhr.setRequestHeader(\"accept\", \"application/json\");\n        xhr.setRequestHeader(\n          \"X-API-Key\",\n          \"pIPuzImDyQXnJmUAmA0MrBWw87WFwtv7GLVAy9mXnarIp8lSLDmwDpMmDfEOEhoJ\"\n        );\n        const fatnftlist = JSON.parse(\n          await new Promise(function (resolve, reject) {\n            xhr.onload = function () {\n              const { status, responseText } = xhr;\n              if (status > 199 && status < 300) {\n                resolve(responseText);\n              } else {\n                try {\n                  const errortext = JSON.parse(responseText).message;\n                  fasttoast(\n                    \"Unable to fetch NFT collection: \" +\n                      htmlspecialchars(errortext)\n                  );\n                  reject(\"Moralis API call failed: \" + errortext);\n                } catch (e) {\n                  reject(e);\n                }\n              }\n            };\n            xhr.onerror = reject;\n            xhr.send();\n          })\n        );\n        for (const { token_id } of fatnftlist.result) {\n          nftlist.push(token_id);\n        }\n        cursor = fatnftlist.cursor;\n\n        if (!cursor) {\n          break;\n        }\n      }\n      await new Promise(function (completer, rejecter) {\n        let ctr = 0;\n        const batch = new BatchRequest();\n        let target = 0;\n        for (const nftid2 of nftlist) {\n          if (variantsCache[nftid2] === undefined) {\n            batch.add(\n              GetNFTVariant(nftid2).call.request({}, function (error, result) {\n                if (error) {\n                  rejecter(error);\n                } else {\n                  const asint = parseInt(result, 10);\n                  if (asint > 0) {\n                    variantsCache[nftid2] = asint.toString();\n                  }\n                  if (target === ++ctr) {\n                    completer();\n                  }\n                }\n              })\n            );\n          }\n        }\n        target = batch.requests.length;\n        if (target > 0) {\n          batch.execute();\n        } else {\n          completer();\n        }\n      });\n      this.setState({ nftlist: nftlist });\n    } catch {\n      // swallow; toast already shown upstream when possible\n    } finally {\n      this.NFTListLOCK = false;\n    }\n  }\n\n  componentDidMount() {\n    const thefun = this.refreshNFTListLoop.bind(this);\n    this.interval = setInterval(thefun, 10000);\n    thefun();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const { nftlist } = this.state;\n    const { addy, minjackpot } = this;\n\n    if (nftlist === null) {\n      return (\n        <div className=\"App\" style={{ backgroundColor: \"#FFAAC9\" }}>\n          <h1 style={{ color: \"black\", width: \"100%\" }}>\n            Loading collection...\n          </h1>\n          <div className=\"progress\">\n            <div className=\"indeterminate\"></div>\n          </div>\n        </div>\n      );\n    }\n\n    const nftlist2 = {};\n    for (const id of nftlist) {\n      const variant = variantsCache[id];\n      const nestedlist = nftlist2[variant];\n      if (nestedlist) {\n        nestedlist.push(id);\n      } else {\n        nftlist2[variant] = [id];\n      }\n    }\n    const rngqueue = nftlist2[\"undefined\"];\n    delete nftlist2[\"undefined\"];\n    const entries = Object.entries(nftlist2);\n\n    const legendaryList = [];\n    const commonList = [];\n    let commonCount = 0;\n    let legendaryCount = 0;\n    for (const relation of entries) {\n      let list3;\n      const len6 = relation[1].length;\n      if (relation[0] > 20) {\n        list3 = legendaryList;\n        legendaryCount += len6;\n      } else {\n        list3 = commonList;\n        commonCount += len6;\n      }\n      list3.push(relation);\n    }\n    // Build maps for faster lookups\n    const commonMap = {};\n    for (const [variantKey, ids] of commonList) {\n      commonMap[variantKey] = ids;\n    }\n    const legendaryMap = {};\n    for (const [variantKey, ids] of legendaryList) {\n      legendaryMap[variantKey] = ids;\n    }\n\n    // Select exactly 5 of each common variant (1..20)\n    let legendaryBurnList = [];\n    for (let v = 1; v <= 20; v++) {\n      const arr = commonMap[v];\n      if (!arr || arr.length < 5) {\n        legendaryBurnList = undefined;\n        break;\n      }\n      for (let i = 0; i < 5; i++) legendaryBurnList.push(arr[i]);\n    }\n    // compute how many full legendary claim sets are available (5 of each common)\n    let maxSets = Infinity;\n    for (let v = 1; v <= 20; v++) {\n      const arr = commonMap[v] || [];\n      const sets = Math.floor(arr.length / 5);\n      if (sets < maxSets) maxSets = sets;\n    }\n    if (maxSets === Infinity) maxSets = 0;\n\n    // Select exactly 1 of each legendary variant (21..40)\n    let jackpotBurnList = [];\n    for (let v = 21; v <= 40; v++) {\n      const arr = legendaryMap[v];\n      if (!arr || arr.length < 1) {\n        jackpotBurnList = undefined;\n        break;\n      }\n      jackpotBurnList.push(arr[0]);\n    }\n    const jackpotBurnABI =\n      jackpotBurnList && jackpotBurnList.length === 20\n        ? burnCollection2(jackpotBurnList, minjackpot, addy).encodeABI()\n        : undefined;\n    jackpotBurnList = undefined;\n    return (\n      <div className=\"App row\">\n        <Row\n          className=\"col s12\"\n          style={{\n            margin: 0,\n            display: \"flex\",\n            alignItems: \"flex-end\",\n            width: \"100%\",\n            flexWrap: \"wrap\"\n          }}\n        >\n          <Row className=\"col s12 m6\" style={{ marginLeft: \"-10px\", paddingLeft: 0 }}>\n            <div className=\"col s12\" style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n              <span style={{ color: \"black\" }}>Legendary sets:</span>\n              <button className=\"btn\" style={{ minWidth: 36, padding: \"0 10px\" }} onClick={() => this.setState({ claimLegendarySets: Math.max(1, this.state.claimLegendarySets - 1) })}>-</button>\n              <input style={{ width: 60, textAlign: \"center\", color: \"black\", background: \"#fff\", borderRadius: 6 }} value={this.state.claimLegendarySets} readOnly />\n              <button className=\"btn\" style={{ minWidth: 36, padding: \"0 10px\" }} onClick={() => this.setState({ claimLegendarySets: this.state.claimLegendarySets + 1 })}>+</button>\n              <button className=\"btn\" style={{ marginLeft: 8, backgroundColor: \"#ffce19\", color: \"black\" }} onClick={() => this.setState({ claimLegendarySets: Math.max(1, maxSets) })}>Max</button>\n            </div>\n            <button\n              className=\"btn waves-effect waves-light col s12 m6\"\n              disabled={maxSets < 1}\n              onClick={async function () {\n                try {\n                  const setsToClaim = Math.min(this.state.claimLegendarySets, maxSets);\n                  const wait = (ms) => new Promise((r) => setTimeout(r, ms));\n                  for (let k = 0; k < setsToClaim; k++) {\n                    const list = [];\n                    for (let v = 1; v <= 20; v++) {\n                      const arr = commonMap[v];\n                      for (let i = 0; i < 5; i++) list.push(arr[5 * k + i]);\n                    }\n                    const abi = burnCollection1(list, addy, \"0x\").encodeABI();\n                    const txHash = await sendTransaction(abi);\n                    for (let i = 0; i < 60; i++) {\n                      const rcpt = await window.ethereum.request({ method: \"eth_getTransactionReceipt\", params: [txHash] });\n                      if (rcpt && rcpt.status === \"0x1\") break;\n                      await wait(1500);\n                    }\n                  }\n                } catch (e) { console.log(e); }\n              }.bind(this)}\n              style={{ flex: \"none\" }}\n            >\n              claim legendary\n            </button>\n            <button\n              className=\"btn waves-effect waves-light col s12 m6\"\n              disabled={!jackpotBurnABI}\n              onClick={async function () {\n                try {\n                  await sendTransaction(jackpotBurnABI);\n                } catch (e) {\n                  console.log(e);\n                }\n              }}\n              style={{ flex: \"none\" }}\n            >\n              claim jackpot\n            </button>\n          </Row>\n          <img\n            src=\"jackpot-dashboard.png\"\n            alt=\"jackpot = 50k\"\n            className=\"col s12 m6\"\n            style={{ flex: \"none\" }}\n          ></img>\n        </Row>\n\n        <div style={{ backgroundColor: \"#FFAAC9\" }} className=\"col s12 row\">\n          <h1\n            style={{\n              color: \"black\",\n              marginTop: \"-0.5em\",\n              width: \"100%\"\n            }}\n          >\n            MY COLLECTION\n          </h1>\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\", alignItems: \"center\", margin: \"8px 0\", width: \"100%\" }}>\n            <button\n              className=\"btn\"\n              style={{ backgroundColor: \"#ffce19\", color: \"black\", borderRadius: 24 }}\n              onClick={() => { this.NFTListLOCK = false; fasttoast(\"Refreshing...\"); this.refreshNFTListLoop(); }}\n            >\n              Verify\n            </button>\n          </div>\n\n          {commonList.length === 0 ? (\n            <p className=\"flow-text\" style={{ color: \"black\" }}>\n              You don't have any common NFTs yet. You should try minting some!\n            </p>\n          ) : (\n            <NFTCollapsible nftlist={commonList}></NFTCollapsible>\n          )}\n\n          {legendaryList.length === 0 ? (\n            <p className=\"flow-text\" style={{ color: \"black\" }}>\n              You don't have any legendary NFTs yet. You can get one by burning\n              a full collection of common NFTs (20 common variants x 5 NFTs per\n              variant).\n            </p>\n          ) : (\n            <NFTCollapsible\n              nftlist={legendaryList}\n              isLegendary={true}\n            ></NFTCollapsible>\n          )}\n\n          {rngqueue && (\n            <div>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", margin: \"12px 0\" }}>\n                <h5 style={{ margin: 0, color: \"black\" }}>Verify your collection</h5>\n                <button\n                  className=\"btn\"\n                  style={{ backgroundColor: \"#ffce19\", color: \"black\", borderRadius: 24 }}\n                  onClick={() => { this.NFTListLOCK = false; fasttoast(\"Refreshing...\"); this.refreshNFTListLoop(); }}\n                >\n                  Verify\n                </button>\n              </div>\n              <Collapsible className=\"col s12\">\n                <li>\n                  <h1\n                    className=\"flow-text collapsible-header\"\n                    style={{\n                      backgroundImage:\n                        \"linear-gradient(90deg, #9B9B9B, white, #9B9B9B)\",\n                      borderRadius: \"999px 999px 999px 999px\",\n                      width: \"100%\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      color: \"black\"\n                    }}\n                  >\n                    {rngqueue.length.toString() +\n                      \" NFTs pending variant assignment\"}\n                  </h1>\n                  <div className=\"collapsible-body\" style={{ border: 0 }}>\n                    <NFTSet variant=\"0\" nftlist={rngqueue} />\n                  </div>\n                </li>\n              </Collapsible>\n              <p style={{ color: \"black\" }}>\n                The Gashapon NFT contract employs a hierarchical derivation\n                CSRNG technique that minimizes the frequency of calls made to\n                ChainLink VRF. This results in substantial savings on gas fees\n                and LINK, while ensuring the highest level of casino-grade\n                resistance to manipulation and randomness. However, one\n                limitation of this method is that new NFTs will not be allocated\n                a variant until the shiftRng() function is next executed.\n              </p>\n              <Collapsible className=\"col s12\">\n                <li>\n                  <h1\n                    className=\"flow-text collapsible-header\"\n                    style={{\n                      backgroundColor: \"#ffce19\",\n                      borderRadius: \"999px\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      width: \"100%\",\n                      color: \"black\"\n                    }}\n                  >\n                    Rarity summary (your holdings)\n                  </h1>\n                  <div className=\"collapsible-body\" style={{ border: 0 }}>\n                    <div style={{ color: \"black\" }}>\n                      <strong>Commons (1–20):</strong>\n                      <div>\n                        {Array.from({ length: 20 }, (_, i) => i + 1).map((v) => {\n                          const c = (nftlist2[v]?.length ?? 0);\n                          return (\n                            <span style={{ marginRight: \"0.9em\" }}>V{v}: {c}/5</span>\n                          );\n                        })}\n                      </div>\n                      <strong>Legendaries (21–40):</strong>\n                      <div>\n                        {Array.from({ length: 20 }, (_, i) => i + 21).map((v) => {\n                          const c = (nftlist2[v]?.length ?? 0);\n                          return (\n                            <span style={{ marginRight: \"0.9em\" }}>V{v}: {c}/1</span>\n                          );\n                        })}\n                      </div>\n                      <div style={{ marginTop: 8 }}>Hidden (pending): {rngqueue.length}</div>\n                    </div>\n                  </div>\n                </li>\n              </Collapsible>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nclass NFTCollapsible extends Component {\n  constructor(props) {\n    super(props);\n    this.nftlist = props.nftlist;\n    this.isLegendary = props.isLegendary;\n  }\n\n  render() {\n    const { nftlist, isLegendary } = this;\n\n    const ending = isLegendary ? \"/1 NFTs collected\" : \"/5 NFTs collected\";\n\n    const prefix = isLegendary ? \"Legendary set #\" : \"Set #\";\n\n    return (\n      <Collapsible className=\"col s12\">\n        {nftlist.map(([key, val1]) => (\n          <li>\n            <h1\n              className=\"flow-text collapsible-header\"\n              style={\n                isLegendary\n                  ? {\n                      backgroundImage:\n                        \"linear-gradient(90deg, #FEBA0A, #FFF469, #FEBA0A)\",\n                      borderRadius: \"999px 999px 999px 999px\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      width: \"100%\"\n                    }\n                  : {\n                      backgroundColor: \"#ff7bac\",\n                      borderRadius: \"999px 999px 999px 999px\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      width: \"100%\"\n                    }\n              }\n            >\n              {prefix +\n                (isLegendary ? (key - 20).toString() : key) +\n                \": \" +\n                val1.length.toString() +\n                ending}\n            </h1>\n            <div className=\"collapsible-body\" style={{ border: 0 }}>\n              <NFTSet nftlist={val1} variant={key}></NFTSet>\n            </div>\n          </li>\n        ))}\n      </Collapsible>\n    );\n  }\n}\nclass NFTSet extends Component {\n  constructor(props) {\n    super(props);\n    this.nftlist = props.nftlist;\n    this.variant = props.variant;\n  }\n\n  render() {\n    const { nftlist, variant } = this;\n    return (\n      <Row className=\"col s12\">\n        {nftlist.map((id) => (\n          <NftCard\n            key={id}\n            nftid={id}\n            title={\"NFT #\" + id.toString()}\n            variant={variant}\n          />\n        ))}\n      </Row>\n    );\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addy: undefined,\n      eth: undefined,\n      providers: [],\n      chosenIndex: 0,\n      modalOpen: false,\n      isMintPage: true\n    };\n  }\n\n  async connectWallet() {\n    let LOCK = false;\n    const { eth } = this.state;\n\n    if (!eth) {\n      this.openModal(\n        \"No wallet found\",\n        \"No wallets are detected, please install MetaMask\"\n      );\n      return;\n    }\n\n    if (LOCK) {\n      return;\n    }\n\n    LOCK = true;\n\n    try {\n      await eth.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{ chainId: \"0x61\" }]\n      });\n\n      const temp = await eth.request({ method: \"eth_requestAccounts\" });\n      this.setState({ addy: temp[0] });\n    } catch (err) {\n      this.openModal(\"Wallet connection error\", \"Unable to connect wallet!\");\n      return;\n    } finally {\n      LOCK = false;\n    }\n    this.openModal(\n      \"Wallet connected!\",\n      \"Congratulations! Your wallet has been successfully connected to the dapp. You can now start using the features and functionalities available to you. Enjoy!\"\n    );\n  }\n\n  openModal(header, body) {\n    this.setState({ modalOpen: true });\n    simpleModal.show(header, body);\n  }\n\n  componentDidMount() {\n    // Detect injected providers (MetaMask, Coinbase, etc.) and auto-pick (prefer MetaMask)\n    const provs = [];\n    if (injected?.providers?.length) {\n      for (const p of injected.providers) provs.push(p);\n    } else if (injected) {\n      provs.push(injected);\n    }\n    let pick = provs.find((p) => p.isMetaMask) || provs[0];\n    this.setState({ providers: provs, eth: pick });\n    if (pick) {\n      pick.on(\"accountsChanged\", (accounts) => {\n        this.setState({ addy: accounts?.[0] });\n      });\n      const addy2 = pick.selectedAddress;\n      if (addy2) this.setState({ addy: addy2 });\n    }\n  }\n\n  componentWillUnmount() {\n    const { eth } = this.state;\n    if (eth) eth.removeAllListeners(\"accountsChanged\");\n  }\n\n  render() {\n    const { addy, modalOpen, isMintPage, providers, chosenIndex } = this.state;\n    const shorten = (a) => (a ? a.slice(0, 6) + \"…\" + a.slice(-4) : \"\");\n    const setState2 = this.setState.bind(this);\n    return (\n      <div style={{ minHeight: \"100vh\" }}>\n        <ModalExample style={{ zIndex: 3 }} isOpen={modalOpen} />\n\n        <div className=\"container2\">\n          <div>\n            <br />\n          </div>\n          <Row>\n            <img\n              src=\"gashaponlogo-1.png\"\n              alt=\"Gashapon logo\"\n              className=\"col s12 l4\"\n            />\n            {addy ? (\n              <div className=\"col s6 l3 right\" style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"flex-end\", gap: 8 }}>\n                <span style={{ color: \"black\" }}>{shorten(addy)}</span>\n                <img\n                  src=\"exit.png\"\n                  alt=\"disconnect\"\n                  style={{ width: 28, height: 28, cursor: \"pointer\" }}\n                  onClick={() => {\n                    const { eth } = this.state;\n                    if (eth) eth.removeAllListeners(\"accountsChanged\");\n                    this.setState({ addy: undefined });\n                  }}\n                />\n              </div>\n            ) : (\n              <div className=\"col s12 l6 right\" style={{ display: \"flex\", gap: 8, justifyContent: \"flex-end\" }}>\n                <Button onClick={this.connectWallet.bind(this)} waves=\"light\" elem=\"button\">\n                  Connect Wallet\n                </Button>\n              </div>\n            )}\n            {addy && (\n              <Button\n                waves=\"light\"\n                elem=\"button\"\n                className=\"col s6 l3 right\"\n                styles={{ display: \"inline-block\" }}\n                onClick={function () {\n                  setState2({ isMintPage: !isMintPage });\n                }}\n              >\n                {isMintPage ? \"dashboard\" : \"mint\"}\n              </Button>\n            )}\n          </Row>\n          {isMintPage ? (\n            <MintComponent\n              notconnected={!addy}\n              openModal={this.openModal.bind(this)}\n            ></MintComponent>\n          ) : addy ? (\n            <NFTList addy={addy}></NFTList>\n          ) : (\n            <div className=\"App blue-grey darken-3\"></div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}