{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web3 Work Space\\\\Gasha\\\\BNBALL\\\\src\\\\App.js\";\nimport \"./styles.css\";\nimport M from \"materialize-css\";\nimport { Button, Row, Card, Collapsible } from \"react-materialize\";\nimport React, { Component } from \"react\";\nimport MintComponent from \"./MintComponent\";\nimport { web3_eth, BatchRequest, NFTContract } from \"./Common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst queryPostfix = \"/nft?chain=0x61&format=decimal&limit=100&token_addresses%5B0%5D=\" + NFTContract + \"&media_items=false\";\nlet contractMethods = new web3_eth.Contract([{\n  inputs: [{\n    internalType: \"uint256\",\n    name: \"id\",\n    type: \"uint256\"\n  }],\n  name: \"getVariant\",\n  outputs: [{\n    internalType: \"uint256\",\n    name: \"\",\n    type: \"uint256\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}, {\n  inputs: [{\n    internalType: \"uint256\",\n    name: \"tokenId\",\n    type: \"uint256\"\n  }],\n  name: \"tokenURI\",\n  outputs: [{\n    internalType: \"string\",\n    name: \"\",\n    type: \"string\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}, {\n  inputs: [{\n    internalType: \"uint256\",\n    name: \"tokenId\",\n    type: \"uint256\"\n  }],\n  name: \"ownerOf\",\n  outputs: [{\n    internalType: \"address\",\n    name: \"\",\n    type: \"address\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}, {\n  inputs: [{\n    internalType: \"uint256[100]\",\n    name: \"tokens\",\n    type: \"uint256[100]\"\n  }, {\n    internalType: \"address\",\n    name: \"rewardsReceiver\",\n    type: \"address\"\n  }, {\n    internalType: \"bytes\",\n    name: \"data\",\n    type: \"bytes\"\n  }],\n  name: \"burnCollection1\",\n  outputs: [],\n  stateMutability: \"nonpayable\",\n  type: \"function\"\n}, {\n  inputs: [{\n    internalType: \"uint256[20]\",\n    name: \"tokens\",\n    type: \"uint256[20]\"\n  }, {\n    internalType: \"uint256\",\n    name: \"minimumJackpot\",\n    type: \"uint256\"\n  }, {\n    internalType: \"address\",\n    name: \"rewardsReceiver\",\n    type: \"address\"\n  }],\n  name: \"burnCollection2\",\n  outputs: [],\n  stateMutability: \"nonpayable\",\n  type: \"function\"\n}], NFTContract).methods;\nconst GetNFTVariant = contractMethods.getVariant;\nconst GetTokenURI = contractMethods.tokenURI;\nconst GetOwnerOf = contractMethods.ownerOf;\nconst {\n  burnCollection1,\n  burnCollection2\n} = contractMethods;\ncontractMethods = undefined;\nconst variantsCache = {};\nconst tokenUriCache = {};\nconst imageCache = {};\nconst simpleModal = {};\nconst htmlspecialchars = function () {\n  const mapObj = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#039;\"\n  };\n  const re = new RegExp(Object.keys(mapObj).join(\"|\"), \"gi\");\n  return function (str) {\n    return str.replace(re, function (matched) {\n      return mapObj[matched.toLowerCase()];\n    });\n  };\n}();\nconst safetoast = function (text) {\n  M.toast({\n    html: htmlspecialchars(text)\n  });\n};\nconst fasttoast = function (text) {\n  M.toast({\n    html: text\n  });\n};\nconst eth = window.ethereum;\nconst sendTransaction = eth ? function (data) {\n  return eth.request({\n    method: \"eth_sendTransaction\",\n    params: [{\n      from: eth.selectedAddress,\n      to: NFTContract,\n      data: data,\n      chainId: \"0x61\"\n    }]\n  });\n} : undefined;\nclass ModalExample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentHeader: \"\",\n      currentBody: \"\"\n    };\n    this.NFTListLOCK = false;\n  }\n  componentDidMount() {\n    simpleModal.show = this.showModal.bind(this);\n    Object.freeze(this.simpleModal);\n  }\n  showModal(header, body) {\n    this.setState({\n      currentHeader: htmlspecialchars(header),\n      currentBody: htmlspecialchars(body)\n    }, () => {\n      const elem = document.getElementById(\"theModal\");\n      const instance = M.Modal.init(elem);\n      instance.open();\n    });\n  }\n  render() {\n    const {\n      currentHeader,\n      currentBody\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      id: \"theModal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        style: {\n          color: \"black\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: currentHeader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentBody\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#!\",\n          className: \"modal-close waves-effect waves-green btn-flat\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass NftCard extends Component {\n  constructor(props) {\n    super(props);\n    this.nftid = props.nftid;\n    this.variant = props.variant;\n    this.state = {\n      img: undefined\n    };\n  }\n  async componentDidMount() {\n    try {\n      const id = this.nftid;\n      let uri = tokenUriCache[id];\n      if (!uri) {\n        uri = await GetTokenURI(id).call();\n        tokenUriCache[id] = uri;\n      }\n      if (uri && typeof uri === \"string\") {\n        let http = uri.startsWith(\"ipfs://\") ? \"https://ipfs.io/ipfs/\" + uri.slice(7) : uri;\n        const cached = imageCache[http];\n        if (cached) {\n          this.setState({\n            img: cached\n          });\n          return;\n        }\n        const res = await fetch(http);\n        const meta = await res.json();\n        let img = (meta === null || meta === void 0 ? void 0 : meta.image) || (meta === null || meta === void 0 ? void 0 : meta.image_url);\n        if (img && typeof img === \"string\") {\n          if (img.startsWith(\"ipfs://\")) img = \"https://ipfs.io/ipfs/\" + img.slice(7);\n          imageCache[http] = img;\n          this.setState({\n            img\n          });\n        }\n      }\n    } catch (e) {\n      // ignore, fallback to variant sprite\n    }\n  }\n  render() {\n    const {\n      nftid,\n      variant\n    } = this;\n    const {\n      img\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Card, {\n      className: \"col s6 l3\",\n      title: \"NFT #\" + nftid,\n      style: {\n        backgroundColor: \"rgba(0, 0, 0, 0)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        crossOrigin: \"anonymous\",\n        alt: \"\",\n        src: img || \"nft-\" + variant + \".png\",\n        style: {\n          width: \"100%\"\n        },\n        className: \"card-content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-action\",\n        style: {\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          width: \"100%\",\n          display: \"block\"\n        },\n        children: \"trade\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass NFTList extends Component {\n  constructor(props) {\n    var _props$minjackpot;\n    super(props);\n    this.addy = props.addy;\n    this.state = {\n      nftlist: null,\n      claimLegendarySets: 1\n    };\n    this.minjackpot = (_props$minjackpot = props.minjackpot) !== null && _props$minjackpot !== void 0 ? _props$minjackpot : \"1\";\n    this.NFTListLOCK = false;\n  }\n  async refreshNFTListLoop() {\n    const {\n      addy\n    } = this;\n    if (!addy || this.NFTListLOCK) {\n      return;\n    }\n    this.NFTListLOCK = true;\n    try {\n      const nftlist = [];\n      let usedMoralis = false;\n      try {\n        let cursor = undefined;\n        while (true) {\n          const xhr = new XMLHttpRequest();\n          const query1 = \"https://deep-index.moralis.io/api/v2/\" + addy + queryPostfix;\n          xhr.open(\"GET\", cursor ? query1 + \"&cursor=\" + cursor : query1, true);\n          xhr.setRequestHeader(\"accept\", \"application/json\");\n          xhr.setRequestHeader(\"X-API-Key\", \"pIPuzImDyQXnJmUAmA0MrBWw87WFwtv7GLVAy9mXnarIp8lSLDmwDpMmDfEOEhoJ\");\n          const fatnftlist = JSON.parse(await new Promise(function (resolve, reject) {\n            xhr.onload = function () {\n              const {\n                status,\n                responseText\n              } = xhr;\n              if (status > 199 && status < 300) {\n                resolve(responseText);\n              } else {\n                try {\n                  const errortext = JSON.parse(responseText).message;\n                  reject(\"Moralis API call failed: \" + errortext);\n                } catch (e) {\n                  reject(e);\n                }\n              }\n            };\n            xhr.onerror = reject;\n            xhr.send();\n          }));\n          for (const {\n            token_id\n          } of fatnftlist.result) {\n            nftlist.push(token_id);\n          }\n          cursor = fatnftlist.cursor;\n          if (!cursor) break;\n        }\n        usedMoralis = true;\n      } catch (e) {\n        // Alchemy-friendly logs fallback: 10k block windows scanned backward\n        try {\n          const latest = await web3_eth.getBlockNumber();\n          const window = 10000; // Alchemy limit per request\n          const maxWindows = 50; // scan ~500k blocks backward\n          const sig = web3_eth.abi.encodeEventSignature(\"Transfer(address,address,uint256)\");\n          const pad = addr => \"0x\" + addr.toLowerCase().slice(2).padStart(64, \"0\");\n          const userTopic = pad(addy);\n          const owned = new Set();\n          const lowerAddr = addy.toLowerCase();\n          for (let w = 0; w < maxWindows; w++) {\n            const toBlock = latest - w * window;\n            const fromBlock = Math.max(0, toBlock - (window - 1));\n            const [logsTo, logsFrom] = await Promise.all([web3_eth.getPastLogs({\n              address: NFTContract,\n              topics: [sig, null, userTopic],\n              fromBlock,\n              toBlock\n            }), web3_eth.getPastLogs({\n              address: NFTContract,\n              topics: [sig, userTopic, null],\n              fromBlock,\n              toBlock\n            })]);\n            for (const l of logsTo) owned.add(parseInt(l.topics[3], 16).toString());\n            for (const l of logsFrom) owned.delete(parseInt(l.topics[3], 16).toString());\n          }\n          nftlist.push(...owned);\n          fasttoast(\"Using paged logs via Alchemy\");\n        } catch (_eLogs) {\n          // Final fallback: small ownerOf scan for recent ids\n          const countAbi = [{\n            inputs: [],\n            name: \"count\",\n            outputs: [{\n              type: \"uint256\"\n            }],\n            stateMutability: \"view\",\n            type: \"function\"\n          }];\n          const countCall = new web3_eth.Contract(countAbi, NFTContract).methods.count().call;\n          const total = parseInt(await countCall());\n          const start = Math.max(1, total - 1000);\n          const chunk = 400;\n          for (let s = start; s <= total; s += chunk) {\n            const e2 = Math.min(total, s + chunk - 1);\n            const batch = new BatchRequest();\n            const owners = {};\n            let target = 0,\n              done = 0;\n            await new Promise(resolve => {\n              for (let i = s; i <= e2; i++) {\n                batch.add(GetOwnerOf(i).call.request({}, function (_err, result) {\n                  owners[i] = result;\n                  if (++done === target) resolve();\n                }));\n              }\n              target = batch.requests.length;\n              if (target === 0) return resolve();\n              batch.execute();\n            });\n            for (let i = s; i <= e2; i++) {\n              const ow = (owners[i] || \"\").toLowerCase();\n              if (ow === addy.toLowerCase()) nftlist.push(i.toString());\n            }\n          }\n          fasttoast(\"Using recent ownerOf fallback\");\n        }\n      }\n      await new Promise(function (completer, rejecter) {\n        let ctr = 0;\n        const batch = new BatchRequest();\n        let target = 0;\n        for (const nftid2 of nftlist) {\n          if (variantsCache[nftid2] === undefined) {\n            batch.add(GetNFTVariant(nftid2).call.request({}, function (error, result) {\n              if (error) {\n                rejecter(error);\n              } else {\n                const asint = parseInt(result, 10);\n                if (asint > 0) {\n                  variantsCache[nftid2] = asint.toString();\n                }\n                if (target === ++ctr) {\n                  completer();\n                }\n              }\n            }));\n          }\n        }\n        target = batch.requests.length;\n        if (target > 0) {\n          batch.execute();\n        } else {\n          completer();\n        }\n      });\n      this.setState({\n        nftlist: nftlist\n      });\n    } catch (_unused) {\n      // swallow; toast already shown upstream when possible\n    } finally {\n      this.NFTListLOCK = false;\n    }\n  }\n  componentDidMount() {\n    const thefun = this.refreshNFTListLoop.bind(this);\n    this.interval = setInterval(thefun, 10000);\n    thefun();\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  render() {\n    const {\n      nftlist\n    } = this.state;\n    const {\n      addy,\n      minjackpot\n    } = this;\n    if (nftlist === null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        style: {\n          backgroundColor: \"#FFAAC9\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: \"black\",\n            width: \"100%\"\n          },\n          children: \"Loading collection...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"indeterminate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this);\n    }\n    const nftlist2 = {};\n    for (const id of nftlist) {\n      const variant = variantsCache[id];\n      const nestedlist = nftlist2[variant];\n      if (nestedlist) {\n        nestedlist.push(id);\n      } else {\n        nftlist2[variant] = [id];\n      }\n    }\n    const rngqueue = nftlist2[\"undefined\"];\n    delete nftlist2[\"undefined\"];\n    const entries = Object.entries(nftlist2);\n    const legendaryList = [];\n    const commonList = [];\n    let commonCount = 0;\n    let legendaryCount = 0;\n    for (const relation of entries) {\n      let list3;\n      const len6 = relation[1].length;\n      if (relation[0] > 20) {\n        list3 = legendaryList;\n        legendaryCount += len6;\n      } else {\n        list3 = commonList;\n        commonCount += len6;\n      }\n      list3.push(relation);\n    }\n    // Build maps for faster lookups\n    const commonMap = {};\n    for (const [variantKey, ids] of commonList) {\n      commonMap[variantKey] = ids;\n    }\n    const legendaryMap = {};\n    for (const [variantKey, ids] of legendaryList) {\n      legendaryMap[variantKey] = ids;\n    }\n\n    // Select exactly 5 of each common variant (1..20)\n    let legendaryBurnList = [];\n    for (let v = 1; v <= 20; v++) {\n      const arr = commonMap[v];\n      if (!arr || arr.length < 5) {\n        legendaryBurnList = undefined;\n        break;\n      }\n      for (let i = 0; i < 5; i++) legendaryBurnList.push(arr[i]);\n    }\n    // compute how many full legendary claim sets are available (5 of each common)\n    let maxSets = Infinity;\n    for (let v = 1; v <= 20; v++) {\n      const arr = commonMap[v] || [];\n      const sets = Math.floor(arr.length / 5);\n      if (sets < maxSets) maxSets = sets;\n    }\n    if (maxSets === Infinity) maxSets = 0;\n\n    // Select exactly 1 of each legendary variant (21..40)\n    let jackpotBurnList = [];\n    for (let v = 21; v <= 40; v++) {\n      const arr = legendaryMap[v];\n      if (!arr || arr.length < 1) {\n        jackpotBurnList = undefined;\n        break;\n      }\n      jackpotBurnList.push(arr[0]);\n    }\n    const jackpotBurnABI = jackpotBurnList && jackpotBurnList.length === 20 ? burnCollection2(jackpotBurnList, minjackpot, addy).encodeABI() : undefined;\n    jackpotBurnList = undefined;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App row\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"col s12\",\n        style: {\n          margin: 0,\n          display: \"flex\",\n          alignItems: \"flex-end\",\n          width: \"100%\",\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"col s12 m6\",\n          style: {\n            marginLeft: \"-10px\",\n            paddingLeft: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col s12\",\n            style: {\n              display: \"flex\",\n              gap: 8,\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"black\"\n              },\n              children: \"Legendary sets:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                minWidth: 36,\n                padding: \"0 10px\"\n              },\n              onClick: () => this.setState({\n                claimLegendarySets: Math.max(1, this.state.claimLegendarySets - 1)\n              }),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: 60,\n                textAlign: \"center\",\n                color: \"black\",\n                background: \"#fff\",\n                borderRadius: 6\n              },\n              value: this.state.claimLegendarySets,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                minWidth: 36,\n                padding: \"0 10px\"\n              },\n              onClick: () => this.setState({\n                claimLegendarySets: this.state.claimLegendarySets + 1\n              }),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                marginLeft: 8,\n                backgroundColor: \"#ffce19\",\n                color: \"black\"\n              },\n              onClick: () => this.setState({\n                claimLegendarySets: Math.max(1, maxSets)\n              }),\n              children: \"Max\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn waves-effect waves-light col s12 m6\",\n            disabled: maxSets < 1,\n            onClick: async function () {\n              try {\n                const setsToClaim = Math.min(this.state.claimLegendarySets, maxSets);\n                const wait = ms => new Promise(r => setTimeout(r, ms));\n                for (let k = 0; k < setsToClaim; k++) {\n                  const list = [];\n                  for (let v = 1; v <= 20; v++) {\n                    const arr = commonMap[v];\n                    for (let i = 0; i < 5; i++) list.push(arr[5 * k + i]);\n                  }\n                  const abi = burnCollection1(list, addy, \"0x\").encodeABI();\n                  const txHash = await sendTransaction(abi);\n                  for (let i = 0; i < 60; i++) {\n                    const rcpt = await window.ethereum.request({\n                      method: \"eth_getTransactionReceipt\",\n                      params: [txHash]\n                    });\n                    if (rcpt && rcpt.status === \"0x1\") break;\n                    await wait(1500);\n                  }\n                }\n              } catch (e) {\n                console.log(e);\n              }\n            }.bind(this),\n            style: {\n              flex: \"none\"\n            },\n            children: \"claim legendary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn waves-effect waves-light col s12 m6\",\n            disabled: !jackpotBurnABI,\n            onClick: async function () {\n              try {\n                await sendTransaction(jackpotBurnABI);\n              } catch (e) {\n                console.log(e);\n              }\n            },\n            style: {\n              flex: \"none\"\n            },\n            children: \"claim jackpot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"jackpot-dashboard.png\",\n          alt: \"jackpot = 50k\",\n          className: \"col s12 m6\",\n          style: {\n            flex: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"#FFAAC9\"\n        },\n        className: \"col s12 row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: \"black\",\n            marginTop: \"-0.5em\",\n            width: \"100%\"\n          },\n          children: \"MY COLLECTION\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            alignItems: \"center\",\n            margin: \"8px 0\",\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            style: {\n              backgroundColor: \"#ffce19\",\n              color: \"black\",\n              borderRadius: 24\n            },\n            onClick: () => {\n              this.NFTListLOCK = false;\n              fasttoast(\"Refreshing...\");\n              this.refreshNFTListLoop();\n            },\n            children: \"Verify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this), commonList.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"flow-text\",\n          style: {\n            color: \"black\"\n          },\n          children: \"You don't have any common NFTs yet. You should try minting some!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(NFTCollapsible, {\n          nftlist: commonList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 13\n        }, this), legendaryList.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"flow-text\",\n          style: {\n            color: \"black\"\n          },\n          children: \"You don't have any legendary NFTs yet. You can get one by burning a full collection of common NFTs (20 common variants x 5 NFTs per variant).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(NFTCollapsible, {\n          nftlist: legendaryList,\n          isLegendary: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 13\n        }, this), rngqueue && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              margin: \"12px 0\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                margin: 0,\n                color: \"black\"\n              },\n              children: \"Verify your collection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                backgroundColor: \"#ffce19\",\n                color: \"black\",\n                borderRadius: 24\n              },\n              onClick: () => {\n                this.NFTListLOCK = false;\n                fasttoast(\"Refreshing...\");\n                this.refreshNFTListLoop();\n              },\n              children: \"Verify\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n            className: \"col s12\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"flow-text collapsible-header\",\n                style: {\n                  backgroundImage: \"linear-gradient(90deg, #9B9B9B, white, #9B9B9B)\",\n                  borderRadius: \"999px 999px 999px 999px\",\n                  width: \"100%\",\n                  borderBottom: \"5px solid black\",\n                  borderLeft: \"5px solid black\",\n                  color: \"black\"\n                },\n                children: rngqueue.length.toString() + \" NFTs pending variant assignment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"collapsible-body\",\n                style: {\n                  border: 0\n                },\n                children: /*#__PURE__*/_jsxDEV(NFTSet, {\n                  variant: \"0\",\n                  nftlist: rngqueue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"black\"\n            },\n            children: \"The Gashapon NFT contract employs a hierarchical derivation CSRNG technique that minimizes the frequency of calls made to ChainLink VRF. This results in substantial savings on gas fees and LINK, while ensuring the highest level of casino-grade resistance to manipulation and randomness. However, one limitation of this method is that new NFTs will not be allocated a variant until the shiftRng() function is next executed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Collapsible, {\n            className: \"col s12\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"flow-text collapsible-header\",\n                style: {\n                  backgroundColor: \"#ffce19\",\n                  borderRadius: \"999px\",\n                  borderBottom: \"5px solid black\",\n                  borderLeft: \"5px solid black\",\n                  width: \"100%\",\n                  color: \"black\"\n                },\n                children: \"Rarity summary (your holdings)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 660,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"collapsible-body\",\n                style: {\n                  border: 0\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: \"black\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Commons (1\\u201320):\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 675,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: Array.from({\n                      length: 20\n                    }, (_, i) => i + 1).map(v => {\n                      var _nftlist2$v$length, _nftlist2$v;\n                      const c = (_nftlist2$v$length = (_nftlist2$v = nftlist2[v]) === null || _nftlist2$v === void 0 ? void 0 : _nftlist2$v.length) !== null && _nftlist2$v$length !== void 0 ? _nftlist2$v$length : 0;\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          marginRight: \"0.9em\"\n                        },\n                        children: [\"V\", v, \": \", c, \"/5\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 680,\n                        columnNumber: 29\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Legendaries (21\\u201340):\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: Array.from({\n                      length: 20\n                    }, (_, i) => i + 21).map(v => {\n                      var _nftlist2$v$length2, _nftlist2$v2;\n                      const c = (_nftlist2$v$length2 = (_nftlist2$v2 = nftlist2[v]) === null || _nftlist2$v2 === void 0 ? void 0 : _nftlist2$v2.length) !== null && _nftlist2$v$length2 !== void 0 ? _nftlist2$v$length2 : 0;\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          marginRight: \"0.9em\"\n                        },\n                        children: [\"V\", v, \": \", c, \"/1\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 689,\n                        columnNumber: 29\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 8\n                    },\n                    children: [\"Hidden (pending): \", rngqueue.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass NFTCollapsible extends Component {\n  constructor(props) {\n    super(props);\n    this.nftlist = props.nftlist;\n    this.isLegendary = props.isLegendary;\n  }\n  render() {\n    const {\n      nftlist,\n      isLegendary\n    } = this;\n    const ending = isLegendary ? \"/1 NFTs collected\" : \"/5 NFTs collected\";\n    const prefix = isLegendary ? \"Legendary set #\" : \"Set #\";\n    return /*#__PURE__*/_jsxDEV(Collapsible, {\n      className: \"col s12\",\n      children: nftlist.map(_ref => {\n        let [key, val1] = _ref;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"flow-text collapsible-header\",\n            style: isLegendary ? {\n              backgroundImage: \"linear-gradient(90deg, #FEBA0A, #FFF469, #FEBA0A)\",\n              borderRadius: \"999px 999px 999px 999px\",\n              borderBottom: \"5px solid black\",\n              borderLeft: \"5px solid black\",\n              width: \"100%\"\n            } : {\n              backgroundColor: \"#ff7bac\",\n              borderRadius: \"999px 999px 999px 999px\",\n              borderBottom: \"5px solid black\",\n              borderLeft: \"5px solid black\",\n              width: \"100%\"\n            },\n            children: prefix + (isLegendary ? (key - 20).toString() : key) + \": \" + val1.length.toString() + ending\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapsible-body\",\n            style: {\n              border: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(NFTSet, {\n              nftlist: val1,\n              variant: key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass NFTSet extends Component {\n  constructor(props) {\n    super(props);\n    this.nftlist = props.nftlist;\n    this.variant = props.variant;\n  }\n  render() {\n    const {\n      nftlist,\n      variant\n    } = this;\n    return /*#__PURE__*/_jsxDEV(Row, {\n      className: \"col s12\",\n      children: nftlist.map(id => /*#__PURE__*/_jsxDEV(NftCard, {\n        nftid: id,\n        title: \"NFT #\" + id.toString(),\n        variant: variant\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 771,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addy: undefined,\n      eth: window.ethereum,\n      modalOpen: false,\n      isMintPage: true\n    };\n  }\n  async connectWallet() {\n    let LOCK = false;\n    const {\n      eth\n    } = this.state;\n    if (!eth) {\n      this.openModal(\"No wallet found\", \"No wallets are detected, please install MetaMask\");\n      return;\n    }\n    if (LOCK) {\n      return;\n    }\n    LOCK = true;\n    try {\n      try {\n        await eth.request({\n          method: \"wallet_switchEthereumChain\",\n          params: [{\n            chainId: \"0x61\"\n          }]\n        });\n      } catch (switchError) {\n        // Wallet might not support programmatic switching\n        const msg = ((switchError === null || switchError === void 0 ? void 0 : switchError.message) || \"\").toLowerCase();\n        if ((switchError === null || switchError === void 0 ? void 0 : switchError.code) === 4902) {\n          // chain not added -> try adding\n          await eth.request({\n            method: \"wallet_addEthereumChain\",\n            params: [{\n              chainId: \"0x61\",\n              chainName: \"BSC Testnet\",\n              nativeCurrency: {\n                name: \"tBNB\",\n                symbol: \"tBNB\",\n                decimals: 18\n              },\n              rpcUrls: [\"https://bnb-testnet.g.alchemy.com/v2/GPaADinJI57e-FhzmBq1V\", \"https://data-seed-prebsc-1-s1.binance.org:8545\"],\n              blockExplorerUrls: [\"https://testnet.bscscan.com\"]\n            }]\n          });\n        } else if ((switchError === null || switchError === void 0 ? void 0 : switchError.code) === -32601 || msg.includes(\"not supported\")) {\n          // Fallback: proceed and ask user to switch manually\n          this.openModal(\"Manual network switch required\", \"Please switch your wallet to BSC Testnet (chainId 0x61) and try again.\");\n        } else {\n          // other error: continue to request accounts; user may already be on the right net\n        }\n      }\n      const temp = await eth.request({\n        method: \"eth_requestAccounts\"\n      });\n      this.setState({\n        addy: temp[0]\n      });\n    } catch (err) {\n      const msg = (err === null || err === void 0 ? void 0 : err.message) || \"Unable to connect wallet!\";\n      this.openModal(\"Wallet connection error\", msg);\n      return;\n    } finally {\n      LOCK = false;\n    }\n    this.openModal(\"Wallet connected!\", \"Congratulations! Your wallet has been successfully connected to the dapp. You can now start using the features and functionalities available to you. Enjoy!\");\n  }\n  openModal(header, body) {\n    this.setState({\n      modalOpen: true\n    });\n    simpleModal.show(header, body);\n  }\n  componentDidMount() {\n    const {\n      eth\n    } = this.state;\n    if (eth) {\n      eth.on(\"accountsChanged\", accounts => {\n        this.setState({\n          addy: accounts[0]\n        });\n      });\n      const addy2 = eth.selectedAddress;\n      if (addy2) {\n        this.setState({\n          addy: addy2\n        });\n      }\n    }\n  }\n  componentWillUnmount() {\n    const {\n      eth\n    } = this.state;\n    if (eth) {\n      eth.removeAllListeners(\"accountsChanged\");\n    }\n  }\n  render() {\n    const {\n      addy,\n      modalOpen,\n      isMintPage\n    } = this.state;\n    const setState2 = this.setState.bind(this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(ModalExample, {\n        style: {\n          zIndex: 3\n        },\n        isOpen: modalOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 894,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"gashaponlogo-1.png\",\n            alt: \"Gashapon logo\",\n            className: \"col s12 l4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 13\n          }, this), addy ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"col s6 l3 right\",\n            style: {\n              display: \"block\",\n              color: \"black\",\n              textOverflow: \"ellipsis\",\n              overflow: \"hidden\"\n            },\n            children: addy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.connectWallet.bind(this),\n            waves: \"light\",\n            elem: \"button\",\n            className: \"col s6 l3 right\",\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 15\n          }, this), addy && /*#__PURE__*/_jsxDEV(Button, {\n            waves: \"light\",\n            elem: \"button\",\n            className: \"col s6 l3 right\",\n            styles: {\n              display: \"inline-block\"\n            },\n            onClick: function () {\n              setState2({\n                isMintPage: !isMintPage\n              });\n            },\n            children: isMintPage ? \"dashboard\" : \"mint\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 11\n        }, this), isMintPage ? /*#__PURE__*/_jsxDEV(MintComponent, {\n          notconnected: !addy,\n          openModal: this.openModal.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 13\n        }, this) : addy ? /*#__PURE__*/_jsxDEV(NFTList, {\n          addy: addy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 948,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App blue-grey darken-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 893,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["M","Button","Row","Card","Collapsible","React","Component","MintComponent","web3_eth","BatchRequest","NFTContract","jsxDEV","_jsxDEV","queryPostfix","contractMethods","Contract","inputs","internalType","name","type","outputs","stateMutability","methods","GetNFTVariant","getVariant","GetTokenURI","tokenURI","GetOwnerOf","ownerOf","burnCollection1","burnCollection2","undefined","variantsCache","tokenUriCache","imageCache","simpleModal","htmlspecialchars","mapObj","re","RegExp","Object","keys","join","str","replace","matched","toLowerCase","safetoast","text","toast","html","fasttoast","eth","window","ethereum","sendTransaction","data","request","method","params","from","selectedAddress","to","chainId","ModalExample","constructor","props","state","currentHeader","currentBody","NFTListLOCK","componentDidMount","show","showModal","bind","freeze","header","body","setState","elem","document","getElementById","instance","Modal","init","open","render","className","id","children","style","color","fileName","_jsxFileName","lineNumber","columnNumber","href","NftCard","nftid","variant","img","uri","call","http","startsWith","slice","cached","res","fetch","meta","json","image","image_url","e","title","backgroundColor","crossOrigin","alt","src","width","display","NFTList","_props$minjackpot","addy","nftlist","claimLegendarySets","minjackpot","refreshNFTListLoop","usedMoralis","cursor","xhr","XMLHttpRequest","query1","setRequestHeader","fatnftlist","JSON","parse","Promise","resolve","reject","onload","status","responseText","errortext","message","onerror","send","token_id","result","push","latest","getBlockNumber","maxWindows","sig","abi","encodeEventSignature","pad","addr","padStart","userTopic","owned","Set","lowerAddr","w","toBlock","fromBlock","Math","max","logsTo","logsFrom","all","getPastLogs","address","topics","l","add","parseInt","toString","delete","_eLogs","countAbi","countCall","count","total","start","chunk","s","e2","min","batch","owners","target","done","i","_err","requests","length","execute","ow","completer","rejecter","ctr","nftid2","error","asint","_unused","thefun","interval","setInterval","componentWillUnmount","clearInterval","nftlist2","nestedlist","rngqueue","entries","legendaryList","commonList","commonCount","legendaryCount","relation","list3","len6","commonMap","variantKey","ids","legendaryMap","legendaryBurnList","v","arr","maxSets","Infinity","sets","floor","jackpotBurnList","jackpotBurnABI","encodeABI","margin","alignItems","flexWrap","marginLeft","paddingLeft","gap","minWidth","padding","onClick","textAlign","background","borderRadius","value","readOnly","disabled","setsToClaim","wait","ms","r","setTimeout","k","list","txHash","rcpt","console","log","flex","marginTop","justifyContent","NFTCollapsible","isLegendary","backgroundImage","borderBottom","borderLeft","border","NFTSet","Array","_","map","_nftlist2$v$length","_nftlist2$v","c","marginRight","_nftlist2$v$length2","_nftlist2$v2","ending","prefix","_ref","key","val1","App","modalOpen","isMintPage","connectWallet","LOCK","openModal","switchError","msg","code","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","includes","temp","err","on","accounts","addy2","removeAllListeners","setState2","minHeight","zIndex","isOpen","textOverflow","overflow","waves","styles","notconnected"],"sources":["C:/Web3 Work Space/Gasha/BNBALL/src/App.js"],"sourcesContent":["import \"./styles.css\";\nimport M from \"materialize-css\";\nimport { Button, Row, Card, Collapsible } from \"react-materialize\";\nimport React, { Component } from \"react\";\nimport MintComponent from \"./MintComponent\";\nimport { web3_eth, BatchRequest, NFTContract } from \"./Common\";\n\nconst queryPostfix =\n  \"/nft?chain=0x61&format=decimal&limit=100&token_addresses%5B0%5D=\" +\n  NFTContract +\n  \"&media_items=false\";\n\nlet contractMethods = new web3_eth.Contract(\n  [\n    {\n      inputs: [{ internalType: \"uint256\", name: \"id\", type: \"uint256\" }],\n      name: \"getVariant\",\n      outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n      stateMutability: \"view\",\n      type: \"function\"\n    },\n    {\n      inputs: [{ internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }],\n      name: \"tokenURI\",\n      outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n      stateMutability: \"view\",\n      type: \"function\"\n    },\n    {\n      inputs: [{ internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }],\n      name: \"ownerOf\",\n      outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n      stateMutability: \"view\",\n      type: \"function\"\n    },\n    {\n      inputs: [\n        {\n          internalType: \"uint256[100]\",\n          name: \"tokens\",\n          type: \"uint256[100]\"\n        },\n        {\n          internalType: \"address\",\n          name: \"rewardsReceiver\",\n          type: \"address\"\n        },\n        {\n          internalType: \"bytes\",\n          name: \"data\",\n          type: \"bytes\"\n        }\n      ],\n      name: \"burnCollection1\",\n      outputs: [],\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    },\n    {\n      inputs: [\n        {\n          internalType: \"uint256[20]\",\n          name: \"tokens\",\n          type: \"uint256[20]\"\n        },\n        {\n          internalType: \"uint256\",\n          name: \"minimumJackpot\",\n          type: \"uint256\"\n        },\n        {\n          internalType: \"address\",\n          name: \"rewardsReceiver\",\n          type: \"address\"\n        }\n      ],\n      name: \"burnCollection2\",\n      outputs: [],\n      stateMutability: \"nonpayable\",\n      type: \"function\"\n    }\n  ],\n  NFTContract\n).methods;\n\nconst GetNFTVariant = contractMethods.getVariant;\nconst GetTokenURI = contractMethods.tokenURI;\nconst GetOwnerOf = contractMethods.ownerOf;\nconst { burnCollection1, burnCollection2 } = contractMethods;\ncontractMethods = undefined;\n\nconst variantsCache = {};\nconst tokenUriCache = {};\nconst imageCache = {};\n\nconst simpleModal = {};\n\nconst htmlspecialchars = (function () {\n  const mapObj = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#039;\"\n  };\n  const re = new RegExp(Object.keys(mapObj).join(\"|\"), \"gi\");\n\n  return function (str) {\n    return str.replace(re, function (matched) {\n      return mapObj[matched.toLowerCase()];\n    });\n  };\n})();\nconst safetoast = function (text) {\n  M.toast({ html: htmlspecialchars(text) });\n};\nconst fasttoast = function (text) {\n  M.toast({ html: text });\n};\n\nconst eth = window.ethereum;\n\nconst sendTransaction = eth\n  ? function (data) {\n      return eth.request({\n        method: \"eth_sendTransaction\",\n        params: [\n          {\n            from: eth.selectedAddress,\n            to: NFTContract,\n            data: data,\n            chainId: \"0x61\"\n          }\n        ]\n      });\n    }\n  : undefined;\n\nclass ModalExample extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentHeader: \"\",\n      currentBody: \"\"\n    };\n    this.NFTListLOCK = false;\n  }\n\n  componentDidMount() {\n    simpleModal.show = this.showModal.bind(this);\n    Object.freeze(this.simpleModal);\n  }\n\n  showModal(header, body) {\n    this.setState(\n      {\n        currentHeader: htmlspecialchars(header),\n        currentBody: htmlspecialchars(body)\n      },\n      () => {\n        const elem = document.getElementById(\"theModal\");\n        const instance = M.Modal.init(elem);\n        instance.open();\n      }\n    );\n  }\n\n  render() {\n    const { currentHeader, currentBody } = this.state;\n    return (\n      <div className=\"modal\" id=\"theModal\">\n        <div className=\"modal-content\" style={{ color: \"black\" }}>\n          <strong>{currentHeader}</strong>\n          <p>{currentBody}</p>\n        </div>\n        <div className=\"modal-footer\">\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect waves-green btn-flat\"\n          >\n            Close\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\nclass NftCard extends Component {\n  constructor(props) {\n    super(props);\n    this.nftid = props.nftid;\n    this.variant = props.variant;\n    this.state = { img: undefined };\n  }\n\n  async componentDidMount() {\n    try {\n      const id = this.nftid;\n      let uri = tokenUriCache[id];\n      if (!uri) {\n        uri = await GetTokenURI(id).call();\n        tokenUriCache[id] = uri;\n      }\n      if (uri && typeof uri === \"string\") {\n        let http = uri.startsWith(\"ipfs://\")\n          ? \"https://ipfs.io/ipfs/\" + uri.slice(7)\n          : uri;\n        const cached = imageCache[http];\n        if (cached) {\n          this.setState({ img: cached });\n          return;\n        }\n        const res = await fetch(http);\n        const meta = await res.json();\n        let img = meta?.image || meta?.image_url;\n        if (img && typeof img === \"string\") {\n          if (img.startsWith(\"ipfs://\")) img = \"https://ipfs.io/ipfs/\" + img.slice(7);\n          imageCache[http] = img;\n          this.setState({ img });\n        }\n      }\n    } catch (e) {\n      // ignore, fallback to variant sprite\n    }\n  }\n\n  render() {\n    const { nftid, variant } = this;\n    const { img } = this.state;\n    return (\n      <Card\n        className=\"col s6 l3\"\n        title={\"NFT #\" + nftid}\n        style={{ backgroundColor: \"rgba(0, 0, 0, 0)\" }}\n      >\n        <img\n          crossOrigin=\"anonymous\"\n          alt=\"\"\n          src={img || (\"nft-\" + variant + \".png\")}\n          style={{ width: \"100%\" }}\n          className=\"card-content\"\n        />\n        <div className=\"card-action\" style={{ width: \"100%\" }}></div>\n        <Button style={{ width: \"100%\", display: \"block\" }}>trade</Button>\n      </Card>\n    );\n  }\n}\n\nclass NFTList extends Component {\n  constructor(props) {\n    super(props);\n    this.addy = props.addy;\n    this.state = {\n      nftlist: null,\n      claimLegendarySets: 1\n    };\n    this.minjackpot = props.minjackpot ?? \"1\";\n    this.NFTListLOCK = false;\n  }\n\n  async refreshNFTListLoop() {\n    const { addy } = this;\n    if (!addy || this.NFTListLOCK) {\n      return;\n    }\n    this.NFTListLOCK = true;\n    try {\n      const nftlist = [];\n      let usedMoralis = false;\n      try {\n        let cursor = undefined;\n        while (true) {\n          const xhr = new XMLHttpRequest();\n          const query1 =\n            \"https://deep-index.moralis.io/api/v2/\" + addy + queryPostfix;\n          xhr.open(\"GET\", cursor ? query1 + \"&cursor=\" + cursor : query1, true);\n          xhr.setRequestHeader(\"accept\", \"application/json\");\n          xhr.setRequestHeader(\n            \"X-API-Key\",\n            \"pIPuzImDyQXnJmUAmA0MrBWw87WFwtv7GLVAy9mXnarIp8lSLDmwDpMmDfEOEhoJ\"\n          );\n          const fatnftlist = JSON.parse(\n            await new Promise(function (resolve, reject) {\n              xhr.onload = function () {\n                const { status, responseText } = xhr;\n                if (status > 199 && status < 300) {\n                  resolve(responseText);\n                } else {\n                  try {\n                    const errortext = JSON.parse(responseText).message;\n                    reject(\"Moralis API call failed: \" + errortext);\n                  } catch (e) {\n                    reject(e);\n                  }\n                }\n              };\n              xhr.onerror = reject;\n              xhr.send();\n            })\n          );\n          for (const { token_id } of fatnftlist.result) {\n            nftlist.push(token_id);\n          }\n          cursor = fatnftlist.cursor;\n          if (!cursor) break;\n        }\n        usedMoralis = true;\n      } catch (e) {\n        // Alchemy-friendly logs fallback: 10k block windows scanned backward\n        try {\n          const latest = await web3_eth.getBlockNumber();\n          const window = 10000; // Alchemy limit per request\n          const maxWindows = 50; // scan ~500k blocks backward\n          const sig = web3_eth.abi.encodeEventSignature(\"Transfer(address,address,uint256)\");\n          const pad = (addr) => \"0x\" + addr.toLowerCase().slice(2).padStart(64, \"0\");\n          const userTopic = pad(addy);\n          const owned = new Set();\n          const lowerAddr = addy.toLowerCase();\n          for (let w = 0; w < maxWindows; w++) {\n            const toBlock = latest - (w * window);\n            const fromBlock = Math.max(0, toBlock - (window - 1));\n            const [logsTo, logsFrom] = await Promise.all([\n              web3_eth.getPastLogs({ address: NFTContract, topics: [sig, null, userTopic], fromBlock, toBlock }),\n              web3_eth.getPastLogs({ address: NFTContract, topics: [sig, userTopic, null], fromBlock, toBlock })\n            ]);\n            for (const l of logsTo) owned.add(parseInt(l.topics[3], 16).toString());\n            for (const l of logsFrom) owned.delete(parseInt(l.topics[3], 16).toString());\n          }\n          nftlist.push(...owned);\n          fasttoast(\"Using paged logs via Alchemy\");\n        } catch (_eLogs) {\n          // Final fallback: small ownerOf scan for recent ids\n          const countAbi = [{ inputs: [], name: \"count\", outputs: [{ type: \"uint256\" }], stateMutability: \"view\", type: \"function\" }];\n          const countCall = new web3_eth.Contract(countAbi, NFTContract).methods.count().call;\n          const total = parseInt(await countCall());\n          const start = Math.max(1, total - 1000);\n          const chunk = 400;\n          for (let s = start; s <= total; s += chunk) {\n            const e2 = Math.min(total, s + chunk - 1);\n            const batch = new BatchRequest();\n            const owners = {};\n            let target = 0, done = 0;\n            await new Promise((resolve) => {\n              for (let i = s; i <= e2; i++) {\n                batch.add(\n                  GetOwnerOf(i).call.request({}, function (_err, result) {\n                    owners[i] = result;\n                    if (++done === target) resolve();\n                  })\n                );\n              }\n              target = batch.requests.length;\n              if (target === 0) return resolve();\n              batch.execute();\n            });\n            for (let i = s; i <= e2; i++) {\n              const ow = (owners[i] || \"\").toLowerCase();\n              if (ow === addy.toLowerCase()) nftlist.push(i.toString());\n            }\n          }\n          fasttoast(\"Using recent ownerOf fallback\");\n        }\n      }\n      await new Promise(function (completer, rejecter) {\n        let ctr = 0;\n        const batch = new BatchRequest();\n        let target = 0;\n        for (const nftid2 of nftlist) {\n          if (variantsCache[nftid2] === undefined) {\n            batch.add(\n              GetNFTVariant(nftid2).call.request({}, function (error, result) {\n                if (error) {\n                  rejecter(error);\n                } else {\n                  const asint = parseInt(result, 10);\n                  if (asint > 0) {\n                    variantsCache[nftid2] = asint.toString();\n                  }\n                  if (target === ++ctr) {\n                    completer();\n                  }\n                }\n              })\n            );\n          }\n        }\n        target = batch.requests.length;\n        if (target > 0) {\n          batch.execute();\n        } else {\n          completer();\n        }\n      });\n      this.setState({ nftlist: nftlist });\n    } catch {\n      // swallow; toast already shown upstream when possible\n    } finally {\n      this.NFTListLOCK = false;\n    }\n  }\n\n  componentDidMount() {\n    const thefun = this.refreshNFTListLoop.bind(this);\n    this.interval = setInterval(thefun, 10000);\n    thefun();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const { nftlist } = this.state;\n    const { addy, minjackpot } = this;\n\n    if (nftlist === null) {\n      return (\n        <div className=\"App\" style={{ backgroundColor: \"#FFAAC9\" }}>\n          <h1 style={{ color: \"black\", width: \"100%\" }}>\n            Loading collection...\n          </h1>\n          <div className=\"progress\">\n            <div className=\"indeterminate\"></div>\n          </div>\n        </div>\n      );\n    }\n\n    const nftlist2 = {};\n    for (const id of nftlist) {\n      const variant = variantsCache[id];\n      const nestedlist = nftlist2[variant];\n      if (nestedlist) {\n        nestedlist.push(id);\n      } else {\n        nftlist2[variant] = [id];\n      }\n    }\n    const rngqueue = nftlist2[\"undefined\"];\n    delete nftlist2[\"undefined\"];\n    const entries = Object.entries(nftlist2);\n\n    const legendaryList = [];\n    const commonList = [];\n    let commonCount = 0;\n    let legendaryCount = 0;\n    for (const relation of entries) {\n      let list3;\n      const len6 = relation[1].length;\n      if (relation[0] > 20) {\n        list3 = legendaryList;\n        legendaryCount += len6;\n      } else {\n        list3 = commonList;\n        commonCount += len6;\n      }\n      list3.push(relation);\n    }\n    // Build maps for faster lookups\n    const commonMap = {};\n    for (const [variantKey, ids] of commonList) {\n      commonMap[variantKey] = ids;\n    }\n    const legendaryMap = {};\n    for (const [variantKey, ids] of legendaryList) {\n      legendaryMap[variantKey] = ids;\n    }\n\n    // Select exactly 5 of each common variant (1..20)\n    let legendaryBurnList = [];\n    for (let v = 1; v <= 20; v++) {\n      const arr = commonMap[v];\n      if (!arr || arr.length < 5) {\n        legendaryBurnList = undefined;\n        break;\n      }\n      for (let i = 0; i < 5; i++) legendaryBurnList.push(arr[i]);\n    }\n    // compute how many full legendary claim sets are available (5 of each common)\n    let maxSets = Infinity;\n    for (let v = 1; v <= 20; v++) {\n      const arr = commonMap[v] || [];\n      const sets = Math.floor(arr.length / 5);\n      if (sets < maxSets) maxSets = sets;\n    }\n    if (maxSets === Infinity) maxSets = 0;\n\n    // Select exactly 1 of each legendary variant (21..40)\n    let jackpotBurnList = [];\n    for (let v = 21; v <= 40; v++) {\n      const arr = legendaryMap[v];\n      if (!arr || arr.length < 1) {\n        jackpotBurnList = undefined;\n        break;\n      }\n      jackpotBurnList.push(arr[0]);\n    }\n    const jackpotBurnABI =\n      jackpotBurnList && jackpotBurnList.length === 20\n        ? burnCollection2(jackpotBurnList, minjackpot, addy).encodeABI()\n        : undefined;\n    jackpotBurnList = undefined;\n    return (\n      <div className=\"App row\">\n        <Row\n          className=\"col s12\"\n          style={{\n            margin: 0,\n            display: \"flex\",\n            alignItems: \"flex-end\",\n            width: \"100%\",\n            flexWrap: \"wrap\"\n          }}\n        >\n          <Row className=\"col s12 m6\" style={{ marginLeft: \"-10px\", paddingLeft: 0 }}>\n            <div className=\"col s12\" style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n              <span style={{ color: \"black\" }}>Legendary sets:</span>\n              <button className=\"btn\" style={{ minWidth: 36, padding: \"0 10px\" }} onClick={() => this.setState({ claimLegendarySets: Math.max(1, this.state.claimLegendarySets - 1) })}>-</button>\n              <input style={{ width: 60, textAlign: \"center\", color: \"black\", background: \"#fff\", borderRadius: 6 }} value={this.state.claimLegendarySets} readOnly />\n              <button className=\"btn\" style={{ minWidth: 36, padding: \"0 10px\" }} onClick={() => this.setState({ claimLegendarySets: this.state.claimLegendarySets + 1 })}>+</button>\n              <button className=\"btn\" style={{ marginLeft: 8, backgroundColor: \"#ffce19\", color: \"black\" }} onClick={() => this.setState({ claimLegendarySets: Math.max(1, maxSets) })}>Max</button>\n            </div>\n            <button\n              className=\"btn waves-effect waves-light col s12 m6\"\n              disabled={maxSets < 1}\n              onClick={async function () {\n                try {\n                  const setsToClaim = Math.min(this.state.claimLegendarySets, maxSets);\n                  const wait = (ms) => new Promise((r) => setTimeout(r, ms));\n                  for (let k = 0; k < setsToClaim; k++) {\n                    const list = [];\n                    for (let v = 1; v <= 20; v++) {\n                      const arr = commonMap[v];\n                      for (let i = 0; i < 5; i++) list.push(arr[5 * k + i]);\n                    }\n                    const abi = burnCollection1(list, addy, \"0x\").encodeABI();\n                    const txHash = await sendTransaction(abi);\n                    for (let i = 0; i < 60; i++) {\n                      const rcpt = await window.ethereum.request({ method: \"eth_getTransactionReceipt\", params: [txHash] });\n                      if (rcpt && rcpt.status === \"0x1\") break;\n                      await wait(1500);\n                    }\n                  }\n                } catch (e) { console.log(e); }\n              }.bind(this)}\n              style={{ flex: \"none\" }}\n            >\n              claim legendary\n            </button>\n            <button\n              className=\"btn waves-effect waves-light col s12 m6\"\n              disabled={!jackpotBurnABI}\n              onClick={async function () {\n                try {\n                  await sendTransaction(jackpotBurnABI);\n                } catch (e) {\n                  console.log(e);\n                }\n              }}\n              style={{ flex: \"none\" }}\n            >\n              claim jackpot\n            </button>\n          </Row>\n          <img\n            src=\"jackpot-dashboard.png\"\n            alt=\"jackpot = 50k\"\n            className=\"col s12 m6\"\n            style={{ flex: \"none\" }}\n          ></img>\n        </Row>\n\n        <div style={{ backgroundColor: \"#FFAAC9\" }} className=\"col s12 row\">\n          <h1\n            style={{\n              color: \"black\",\n              marginTop: \"-0.5em\",\n              width: \"100%\"\n            }}\n          >\n            MY COLLECTION\n          </h1>\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\", alignItems: \"center\", margin: \"8px 0\", width: \"100%\" }}>\n            <button\n              className=\"btn\"\n              style={{ backgroundColor: \"#ffce19\", color: \"black\", borderRadius: 24 }}\n              onClick={() => { this.NFTListLOCK = false; fasttoast(\"Refreshing...\"); this.refreshNFTListLoop(); }}\n            >\n              Verify\n            </button>\n          </div>\n\n          {commonList.length === 0 ? (\n            <p className=\"flow-text\" style={{ color: \"black\" }}>\n              You don't have any common NFTs yet. You should try minting some!\n            </p>\n          ) : (\n            <NFTCollapsible nftlist={commonList}></NFTCollapsible>\n          )}\n\n          {legendaryList.length === 0 ? (\n            <p className=\"flow-text\" style={{ color: \"black\" }}>\n              You don't have any legendary NFTs yet. You can get one by burning\n              a full collection of common NFTs (20 common variants x 5 NFTs per\n              variant).\n            </p>\n          ) : (\n            <NFTCollapsible\n              nftlist={legendaryList}\n              isLegendary={true}\n            ></NFTCollapsible>\n          )}\n\n          {rngqueue && (\n            <div>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", margin: \"12px 0\" }}>\n                <h5 style={{ margin: 0, color: \"black\" }}>Verify your collection</h5>\n                <button\n                  className=\"btn\"\n                  style={{ backgroundColor: \"#ffce19\", color: \"black\", borderRadius: 24 }}\n                  onClick={() => { this.NFTListLOCK = false; fasttoast(\"Refreshing...\"); this.refreshNFTListLoop(); }}\n                >\n                  Verify\n                </button>\n              </div>\n              <Collapsible className=\"col s12\">\n                <li>\n                  <h1\n                    className=\"flow-text collapsible-header\"\n                    style={{\n                      backgroundImage:\n                        \"linear-gradient(90deg, #9B9B9B, white, #9B9B9B)\",\n                      borderRadius: \"999px 999px 999px 999px\",\n                      width: \"100%\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      color: \"black\"\n                    }}\n                  >\n                    {rngqueue.length.toString() +\n                      \" NFTs pending variant assignment\"}\n                  </h1>\n                  <div className=\"collapsible-body\" style={{ border: 0 }}>\n                    <NFTSet variant=\"0\" nftlist={rngqueue} />\n                  </div>\n                </li>\n              </Collapsible>\n              <p style={{ color: \"black\" }}>\n                The Gashapon NFT contract employs a hierarchical derivation\n                CSRNG technique that minimizes the frequency of calls made to\n                ChainLink VRF. This results in substantial savings on gas fees\n                and LINK, while ensuring the highest level of casino-grade\n                resistance to manipulation and randomness. However, one\n                limitation of this method is that new NFTs will not be allocated\n                a variant until the shiftRng() function is next executed.\n              </p>\n              <Collapsible className=\"col s12\">\n                <li>\n                  <h1\n                    className=\"flow-text collapsible-header\"\n                    style={{\n                      backgroundColor: \"#ffce19\",\n                      borderRadius: \"999px\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      width: \"100%\",\n                      color: \"black\"\n                    }}\n                  >\n                    Rarity summary (your holdings)\n                  </h1>\n                  <div className=\"collapsible-body\" style={{ border: 0 }}>\n                    <div style={{ color: \"black\" }}>\n                      <strong>Commons (1–20):</strong>\n                      <div>\n                        {Array.from({ length: 20 }, (_, i) => i + 1).map((v) => {\n                          const c = (nftlist2[v]?.length ?? 0);\n                          return (\n                            <span style={{ marginRight: \"0.9em\" }}>V{v}: {c}/5</span>\n                          );\n                        })}\n                      </div>\n                      <strong>Legendaries (21–40):</strong>\n                      <div>\n                        {Array.from({ length: 20 }, (_, i) => i + 21).map((v) => {\n                          const c = (nftlist2[v]?.length ?? 0);\n                          return (\n                            <span style={{ marginRight: \"0.9em\" }}>V{v}: {c}/1</span>\n                          );\n                        })}\n                      </div>\n                      <div style={{ marginTop: 8 }}>Hidden (pending): {rngqueue.length}</div>\n                    </div>\n                  </div>\n                </li>\n              </Collapsible>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nclass NFTCollapsible extends Component {\n  constructor(props) {\n    super(props);\n    this.nftlist = props.nftlist;\n    this.isLegendary = props.isLegendary;\n  }\n\n  render() {\n    const { nftlist, isLegendary } = this;\n\n    const ending = isLegendary ? \"/1 NFTs collected\" : \"/5 NFTs collected\";\n\n    const prefix = isLegendary ? \"Legendary set #\" : \"Set #\";\n\n    return (\n      <Collapsible className=\"col s12\">\n        {nftlist.map(([key, val1]) => (\n          <li>\n            <h1\n              className=\"flow-text collapsible-header\"\n              style={\n                isLegendary\n                  ? {\n                      backgroundImage:\n                        \"linear-gradient(90deg, #FEBA0A, #FFF469, #FEBA0A)\",\n                      borderRadius: \"999px 999px 999px 999px\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      width: \"100%\"\n                    }\n                  : {\n                      backgroundColor: \"#ff7bac\",\n                      borderRadius: \"999px 999px 999px 999px\",\n                      borderBottom: \"5px solid black\",\n                      borderLeft: \"5px solid black\",\n                      width: \"100%\"\n                    }\n              }\n            >\n              {prefix +\n                (isLegendary ? (key - 20).toString() : key) +\n                \": \" +\n                val1.length.toString() +\n                ending}\n            </h1>\n            <div className=\"collapsible-body\" style={{ border: 0 }}>\n              <NFTSet nftlist={val1} variant={key}></NFTSet>\n            </div>\n          </li>\n        ))}\n      </Collapsible>\n    );\n  }\n}\nclass NFTSet extends Component {\n  constructor(props) {\n    super(props);\n    this.nftlist = props.nftlist;\n    this.variant = props.variant;\n  }\n\n  render() {\n    const { nftlist, variant } = this;\n    return (\n      <Row className=\"col s12\">\n        {nftlist.map((id) => (\n          <NftCard\n            key={id}\n            nftid={id}\n            title={\"NFT #\" + id.toString()}\n            variant={variant}\n          />\n        ))}\n      </Row>\n    );\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addy: undefined,\n      eth: window.ethereum,\n      modalOpen: false,\n      isMintPage: true\n    };\n  }\n\n  async connectWallet() {\n    let LOCK = false;\n    const { eth } = this.state;\n\n    if (!eth) {\n      this.openModal(\n        \"No wallet found\",\n        \"No wallets are detected, please install MetaMask\"\n      );\n      return;\n    }\n\n    if (LOCK) {\n      return;\n    }\n\n    LOCK = true;\n\n    try {\n      try {\n        await eth.request({\n          method: \"wallet_switchEthereumChain\",\n          params: [{ chainId: \"0x61\" }]\n        });\n      } catch (switchError) {\n        // Wallet might not support programmatic switching\n        const msg = (switchError?.message || \"\").toLowerCase();\n        if (switchError?.code === 4902) {\n          // chain not added -> try adding\n          await eth.request({\n            method: \"wallet_addEthereumChain\",\n            params: [\n              {\n                chainId: \"0x61\",\n                chainName: \"BSC Testnet\",\n                nativeCurrency: { name: \"tBNB\", symbol: \"tBNB\", decimals: 18 },\n                rpcUrls: [\n                  \"https://bnb-testnet.g.alchemy.com/v2/GPaADinJI57e-FhzmBq1V\",\n                  \"https://data-seed-prebsc-1-s1.binance.org:8545\"\n                ],\n                blockExplorerUrls: [\"https://testnet.bscscan.com\"]\n              }\n            ]\n          });\n        } else if (switchError?.code === -32601 || msg.includes(\"not supported\")) {\n          // Fallback: proceed and ask user to switch manually\n          this.openModal(\n            \"Manual network switch required\",\n            \"Please switch your wallet to BSC Testnet (chainId 0x61) and try again.\"\n          );\n        } else {\n          // other error: continue to request accounts; user may already be on the right net\n        }\n      }\n\n      const temp = await eth.request({ method: \"eth_requestAccounts\" });\n      this.setState({ addy: temp[0] });\n    } catch (err) {\n      const msg = err?.message || \"Unable to connect wallet!\";\n      this.openModal(\"Wallet connection error\", msg);\n      return;\n    } finally {\n      LOCK = false;\n    }\n    this.openModal(\n      \"Wallet connected!\",\n      \"Congratulations! Your wallet has been successfully connected to the dapp. You can now start using the features and functionalities available to you. Enjoy!\"\n    );\n  }\n\n  openModal(header, body) {\n    this.setState({ modalOpen: true });\n    simpleModal.show(header, body);\n  }\n\n  componentDidMount() {\n    const { eth } = this.state;\n    if (eth) {\n      eth.on(\"accountsChanged\", (accounts) => {\n        this.setState({ addy: accounts[0] });\n      });\n      const addy2 = eth.selectedAddress;\n      if (addy2) {\n        this.setState({ addy: addy2 });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const { eth } = this.state;\n    if (eth) {\n      eth.removeAllListeners(\"accountsChanged\");\n    }\n  }\n\n  render() {\n    const { addy, modalOpen, isMintPage } = this.state;\n    const setState2 = this.setState.bind(this);\n    return (\n      <div style={{ minHeight: \"100vh\" }}>\n        <ModalExample style={{ zIndex: 3 }} isOpen={modalOpen} />\n\n        <div className=\"container2\">\n          <div>\n            <br />\n          </div>\n          <Row>\n            <img\n              src=\"gashaponlogo-1.png\"\n              alt=\"Gashapon logo\"\n              className=\"col s12 l4\"\n            />\n            {addy ? (\n              <p\n                className=\"col s6 l3 right\"\n                style={{\n                  display: \"block\",\n                  color: \"black\",\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\"\n                }}\n              >\n                {addy}\n              </p>\n            ) : (\n              <Button\n                onClick={this.connectWallet.bind(this)}\n                waves=\"light\"\n                elem=\"button\"\n                className=\"col s6 l3 right\"\n              >\n                Connect Wallet\n              </Button>\n            )}\n            {addy && (\n              <Button\n                waves=\"light\"\n                elem=\"button\"\n                className=\"col s6 l3 right\"\n                styles={{ display: \"inline-block\" }}\n                onClick={function () {\n                  setState2({ isMintPage: !isMintPage });\n                }}\n              >\n                {isMintPage ? \"dashboard\" : \"mint\"}\n              </Button>\n            )}\n          </Row>\n          {isMintPage ? (\n            <MintComponent\n              notconnected={!addy}\n              openModal={this.openModal.bind(this)}\n            ></MintComponent>\n          ) : addy ? (\n            <NFTList addy={addy}></NFTList>\n          ) : (\n            <div className=\"App blue-grey darken-3\"></div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}